# v35 Optuna 최적화 버전 배포 체크리스트

**배포일**: 2025-12-06
**버전**: v35 Optimized (Trial 99)
**예상 2025 수익률**: +23.16%

---

## ✅ 배포 전 체크리스트

### 1. 환경 설정 ✓

- [x] Python 3.9+ 설치 확인
- [x] 필수 패키지 설치 (`pip install -r requirements.txt`)
- [x] `.env` 파일 생성 및 API 키 설정
- [x] `config_optimized.json` 존재 확인
- [x] 데이터베이스 `upbit_bitcoin.db` 존재

### 2. API 키 설정

#### 업비트 (필수)

```bash
# .env 파일에 추가
UPBIT_ACCESS_KEY=your_access_key
UPBIT_SECRET_KEY=your_secret_key
```

**발급 방법**:
1. 업비트 웹사이트 로그인
2. 마이페이지 → Open API 관리
3. API 키 발급 (자산조회, 주문조회, 주문하기 권한)

#### 텔레그램 (필수)

```bash
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
```

**발급 방법**:
1. 텔레그램에서 @BotFather 검색
2. `/newbot` 명령어로 봇 생성
3. 토큰 저장
4. `python live_trading/get_chat_id.py`로 Chat ID 확인

#### 바이낸스 (선택, 헤지 전략 사용 시)

```bash
BINANCE_API_KEY=your_api_key
BINANCE_API_SECRET=your_api_secret
```

**발급 방법**: `live_trading/BINANCE_SETUP_GUIDE.md` 참조

### 3. 연결 테스트

```bash
cd live_trading

# 업비트 연결 테스트
python test_connection.py

# 바이낸스 연결 테스트 (선택)
python binance_futures_trader.py

# 듀얼 엔진 테스트 (선택)
python dual_exchange_engine.py
```

---

## 🚀 배포 단계

### Phase 1: Paper Trading (Week 1)

**목표**: 시스템 안정성 확인

```bash
cd live_trading
./deploy_v35_optimized.sh paper
```

**모니터링**:
- 매일 텔레그램 알림 확인
- 시그널 발생 빈도 (예상: 주 1~2회)
- 로그 파일 확인 (`logs/trading_paper_*.log`)

**성공 기준**:
- ✅ 7일간 에러 없이 실행
- ✅ 시그널 정상 발생
- ✅ 텔레그램 알림 정상

---

### Phase 2: 실전 30% (Week 2)

**자금**: 30만원 (총 자금의 30%)

```bash
# 실거래 모드
./deploy_v35_optimized.sh live
```

**모니터링**:
- 매일 포지션 확인
- 실제 체결가 vs 백테스팅 비교
- 슬리피지 & 수수료 측정

**성공 기준**:
- ✅ 주간 손실 -5% 이내
- ✅ 실제 성과 ≈ 백테스팅 ±30%
- ✅ 시스템 안정 (다운타임 없음)

**실패 시**:
- Paper Trading으로 복귀
- 로그 분석 및 문제 해결

---

### Phase 3: 실전 100% (Week 3)

**자금**: 100만원 (전액)

**조건**:
- Phase 2 성공 확인
- 주간 수익률 0% 이상
- 시스템 안정성 검증

**모니터링**:
- 일일 리포트 작성
- 주간 성과 분석
- 월간 목표 대비 진행률

**목표**:
- 월간 수익률: +2~5%
- Sharpe Ratio: ≥1.5
- MDD: ≤5%

---

## 📊 성과 모니터링

### 일일 체크 (매일 오후 6시)

```bash
# 텔레그램 명령어 (예정)
/status    # 현재 포지션 상태
/report    # 당일 손익
```

**확인 항목**:
- [ ] 포지션 상태 (있음/없음)
- [ ] 당일 손익 (%)
- [ ] 시장 상태 (BULL/SIDEWAYS/BEAR)
- [ ] 에러 로그 확인

### 주간 리포트 (매주 일요일)

**기록 항목**:
- 주간 수익률: _____%
- 거래 횟수: _____회
- 승률: _____%
- 최대 손실: _____%
- 백테스팅 대비: _____%

**분석**:
- 실제 vs 백테스팅 차이 원인
- 슬리피지 영향
- 수수료 영향

### 월간 평가

**목표 대비 성과**:

| 지표 | 목표 | 실제 | 달성 |
|------|------|------|------|
| 월간 수익률 | +2~5% | ___% | [ ] |
| Sharpe | ≥1.5 | ___ | [ ] |
| MDD | ≤5% | ___% | [ ] |
| 거래 횟수 | 3~7회 | ___회 | [ ] |
| 승률 | ≥40% | ___% | [ ] |

**재최적화 트리거**:
- ⚠️ 2개월 연속 손실
- ⚠️ MDD -10% 돌파
- ⚠️ Sharpe < 1.0

---

## ⚠️ 리스크 관리

### 손실 한도

**일일**:
- -3%까지 허용
- -5% 돌파 시 거래 중단 (당일)

**주간**:
- -5%까지 허용
- -7% 돌파 시 Phase 하향 조정

**월간**:
- -10%까지 허용
- -10% 돌파 시 전략 중단 및 재검토

### 긴급 청산

**상황**:
- 예상치 못한 시장 폭락
- 시스템 오류
- 개인 사정

**방법 1: 수동 청산**
```bash
# 업비트에서 직접 매도
```

**방법 2: 코드 실행**
```python
from live_trading.dual_exchange_engine import DualExchangeEngine

engine = DualExchangeEngine(mode='hedge')
engine.emergency_close_all()
```

**방법 3: 텔레그램** (추가 예정)
```
/emergency
```

---

## 🔧 설정 조정

### 포지션 크기 조정

**현재**: 67.7% (공격적)

**조정 방법**:
```json
// config_optimized.json
{
  "position_sizing": {
    "position_size": 0.5  // 50% (보수적) 또는 0.677 (공격적)
  }
}
```

**권장**:
- 초보자: 0.3~0.5 (30~50%)
- 중급자: 0.5~0.7 (50~70%)
- 전문가: 0.677 (67.7%, 최적화 값)

### Stop Loss 조정

**현재**: -2.1%

```json
{
  "exit_conditions": {
    "stop_loss": -0.021  // -2.1%
  }
}
```

**조정 가능**:
- 보수적: -0.015 (-1.5%)
- 표준: -0.021 (-2.1%) ⭐ 권장
- 공격적: -0.03 (-3.0%)

---

## 📁 주요 파일 위치

### 실행 파일
```
live_trading/
├── deploy_v35_optimized.sh      # 배포 스크립트 ⭐
├── main.py                       # 메인 실행
├── live_trading_engine.py        # 트레이딩 엔진
├── upbit_trader.py               # 업비트 거래
├── binance_futures_trader.py     # 바이낸스 선물
└── dual_exchange_engine.py       # 듀얼 전략
```

### 설정 파일
```
strategies/v35_optimized/
├── config_optimized.json         # 최적화 설정 ⭐
├── config.json                   # 원본 설정
└── strategy.py                   # 전략 로직
```

### 로그 파일
```
live_trading/logs/
└── trading_[mode]_[timestamp].log
```

---

## 🎯 예상 성과

### 월간 예상

**보수적 시나리오**:
- 수익률: +1~2%
- 거래: 3~5회
- MDD: -3%

**중립 시나리오** (백테스팅 기반):
- 수익률: +2~4%
- 거래: 5~7회
- MDD: -2%

**공격적 시나리오**:
- 수익률: +4~6%
- 거래: 7~10회
- MDD: -5%

### 연간 예상 (2026)

**백테스팅 기반**:
- 안정 상승장 (2025 유사): +23%
- 강세장 (2024 유사): +40%
- 하락장 (2022 유사): -20%

**종합 예상** (확률 가중):
- 기댓값: +15~20%

---

## 📞 문제 해결

### 자주 발생하는 문제

#### 1. API 키 에러
```
❌ 업비트 API 키가 .env 파일에 없습니다
```

**해결**: `.env` 파일에 API 키 추가

#### 2. 데이터베이스 에러
```
❌ upbit_bitcoin.db 파일이 없습니다
```

**해결**: 프로젝트 루트에서 실행 확인

#### 3. 텔레그램 연결 실패
```
❌ 텔레그램 봇 연결 실패
```

**해결**:
- 토큰 확인
- Chat ID 확인 (`get_chat_id.py` 실행)

#### 4. 바이낸스 연결 실패
```
❌ 바이낸스 선물 연결 실패
```

**해결**:
- API 키 확인
- Futures 권한 활성화
- IP 제한 확인

---

## ✅ 최종 체크리스트

### 배포 직전 확인

- [ ] `.env` 파일 API 키 모두 설정
- [ ] `config_optimized.json` 존재 확인
- [ ] 연결 테스트 모두 통과
- [ ] 최소 자금 확보 (업비트 5,000원)
- [ ] 텔레그램 알림 테스트 완료
- [ ] 긴급 청산 방법 숙지
- [ ] 손실 한도 설정
- [ ] 백업 계획 수립

### 배포 후 7일 체크

- [ ] 매일 포지션 확인
- [ ] 텔레그램 알림 정상 수신
- [ ] 에러 없이 7일 실행
- [ ] 실제 vs 백테스팅 비교
- [ ] 슬리피지 & 수수료 측정
- [ ] 주간 손익 기록
- [ ] Phase 2 진행 여부 결정

---

## 🎉 배포 성공 시

### 축하합니다! 🎊

v35 Optuna 최적화 버전이 성공적으로 배포되었습니다.

**다음 단계**:
1. ✅ 일일 모니터링 지속
2. ✅ 주간 리포트 작성
3. ✅ 월간 성과 평가
4. ✅ 필요 시 설정 조정
5. ✅ 2026 Q1 재최적화 준비

**예상 성과**:
- 월간: +2~5%
- 연간: +15~25%
- CAGR (6년): 23.91%

**행운을 빕니다!** 🚀

---

**작성일**: 2025-12-06
**작성자**: Claude Code
**버전**: v1.0
