# ÎπÑÌä∏ÏΩîÏù∏ Ìä∏Î†àÏù¥Îî© Ï†ÑÎûµ ÏôÑÏ†Ñ Í∞ÄÏù¥Îìú

**ÏÉùÏÑ±Ïùº**: 2025-10-21 13:32 KST
**Î™©Ï†Å**: Î™®Îì† Ï†ÑÎûµ(v01~v45, 50Í∞ú) Ï¢ÖÌï© Î∂ÑÏÑù Î∞è Ïû¨Íµ¨Ï∂ï ÎßàÏä§ÌÑ∞ Î¨∏ÏÑú
**Î≤ÑÏ†Ñ**: 1.0 FINAL

---

## üìã Table of Contents

1. [Executive Summary](#executive-summary)
2. [ÌîÑÎ°úÏ†ùÌä∏ ÌûàÏä§ÌÜ†Î¶¨](#ÌîÑÎ°úÏ†ùÌä∏-ÌûàÏä§ÌÜ†Î¶¨)
3. [ÌïµÏã¨ ÌïôÏäµ ÏÇ¨Ìï≠](#ÌïµÏã¨-ÌïôÏäµ-ÏÇ¨Ìï≠)
4. [Ï†ÑÎûµ Ïπ¥ÌÉàÎ°úÍ∑∏ (v01~v45)](#Ï†ÑÎûµ-Ïπ¥ÌÉàÎ°úÍ∑∏)
5. [ÌëúÏ§Ä ÌîÑÎ°úÏ†ùÌä∏ Íµ¨Ï°∞](#ÌëúÏ§Ä-ÌîÑÎ°úÏ†ùÌä∏-Íµ¨Ï°∞)
6. [ÌëúÏ§Ä Î∞±ÌÖåÏä§Ìä∏ ÌòïÏãù](#ÌëúÏ§Ä-Î∞±ÌÖåÏä§Ìä∏-ÌòïÏãù)
7. [Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ](#Ïû¨Íµ¨Ï∂ï-Ïö∞ÏÑ†ÏàúÏúÑ)
8. [Ïû¨Íµ¨Ï∂ï Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏](#Ïû¨Íµ¨Ï∂ï-Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏)
9. [ÌïµÏã¨ ÏΩîÎìú Ïä§ÎãàÌé´](#ÌïµÏã¨-ÏΩîÎìú-Ïä§ÎãàÌé´)
10. [Ï∞∏Í≥† Î¨∏ÏÑú Î™©Î°ù](#Ï∞∏Í≥†-Î¨∏ÏÑú-Î™©Î°ù)

---

## Executive Summary

### ÌîÑÎ°úÏ†ùÌä∏ Í∞úÏöî

**Í∏∞Í∞Ñ**: 2024-10 ~ 2025-10 (13Í∞úÏõî)
**Ï¥ù Ï†ÑÎûµ Ïàò**: 50Í∞ú (v01~v45 + variants)
**Î∞±ÌÖåÏä§Ìä∏ Í∏∞Í∞Ñ**: 2020-01-01 ~ 2025-10-21 (5.8ÎÖÑ)
**Ï¥àÍ∏∞ ÏûêÎ≥∏**: 10,000,000 KRW

### ÏµúÏ¢Ö Í∂åÏû• Ï†ÑÎûµ

#### ü•á v35_optimized (Í≤ÄÏ¶ù ÏôÑÎ£å, ÌòÑÏû¨ ÏµúÍ≥†)

**ÌïµÏã¨ ÌÜµÍ≥Ñ** (2025 Out-of-Sample):
- **ÏàòÏùµÎ•†**: +14.20% (Î™©Ìëú +15%Ïùò 94.7%)
- **Sharpe Ratio**: 2.24 (Îß§Ïö∞ ÎÜíÏùå)
- **Max Drawdown**: -2.33% (Í∑πÎèÑÎ°ú ÏïàÏ†Ñ)
- **ÏäπÎ•†**: 25.0% (8Í±∞Îûò)
- **ÌÉÄÏûÑÌîÑÎ†àÏûÑ**: Day (ÏùºÎ¥â)

**ÌïµÏã¨ ÌäπÏßï**:
1. 7-Level ÏãúÏû• Î∂ÑÎ•ò (BULL_STRONG ~ BEAR_STRONG)
2. ÎèôÏ†Å ÏùµÏ†à/ÏÜêÏ†à (ÏãúÏû•Î≥Ñ TP 5~20%)
3. SIDEWAYS Ï†ÑÎûµ Í∞ïÌôî (RSI + Bollinger Bands)
4. Î∂ÑÌï† ÏùµÏ†à (TP1 40%, TP2 30%, TP3 30%)

**3ÎÖÑ Í≤ÄÏ¶ù ÏÑ±Í≥º**:
| Ïó∞ÎèÑ | ÏàòÏùµÎ•† | ÏãúÏû• ÏÉÅÌÉú |
|------|--------|-----------|
| 2023 | +13.64% | ÏÉÅÏäπÏû• (+170%) |
| 2024 | +25.91% | ÏÉÅÏäπÏû• (+137%) |
| 2025 | +14.20% | - |

### ‚ö†Ô∏è Ï§ëÏöî Î∞úÍ≤¨ ÏÇ¨Ìï≠

#### v43/v45 Î≥µÎ¶¨ Î≤ÑÍ∑∏ (2025-10-20 Î∞úÍ≤¨)

**Î¨∏Ï†ú**: v43Ïù¥ Î≥¥Í≥†Ìïú +1,346% ÏàòÏùµÎ•†ÏùÄ **ÏπòÎ™ÖÏ†Å Î≥µÎ¶¨ Î≤ÑÍ∑∏**Î°ú Ïù∏Ìïú ÌóàÏúÑ Í≤∞Í≥º

```python
# v43 Î≤ÑÍ∑∏: positionÏùÑ BTC ÏàòÎüâÏù¥ ÏïÑÎãå ÎπÑÏú®Î°ú Í≥ÑÏÇ∞
position = capital / (capital √ó 1.0007)  # = 0.9993 (ÏÉÅÏàò!)
sell_revenue = position √ó sell_price √ó 0.9993  # ÏôÑÏ†ÑÌûà ÏûòÎ™ªÎê®
```

**Ïã§Ï†ú ÏÑ±Í≥º** (Ï†ïÏÉÅ Î≥µÎ¶¨ Í∏∞Ï§Ä):
| Ïó∞ÎèÑ | v43 Î≤ÑÍ∑∏ | Ïã§Ï†ú | ÏôúÍ≥° Î∞∞Ïú® |
|------|---------|------|-----------|
| 2021 | +470% | +48% | **9.8Î∞∞** |
| 2024 | +1,277% | +111% | **11.5Î∞∞** |
| 2025 | +1,596% | +13% | **123Î∞∞** |

**Í≤∞Î°†**: v43~v45Îäî **Í≤ÄÏ¶ù Î∂àÍ∞Ä** ‚Üí v35Î•º ÏµúÏ¢Ö Í∂åÏû•

#### v38~v40 ÏàòÏùµÎ•† Í≥ºÎåÄ Í≥ÑÏÇ∞ (2025-10-21 Í≤ÄÏ¶ù)

ÌëúÏ§Ä Î≥µÎ¶¨ ÏóîÏßÑÏúºÎ°ú Ïû¨Í≥ÑÏÇ∞ Í≤∞Í≥º, Î™®Îì† Ïù¥Ïùµ Ïó∞ÎèÑÏóêÏÑú **2~5Î∞∞ Í≥ºÎåÄ Í≥ÑÏÇ∞** Î∞úÍ≤¨:

| Ï†ÑÎûµ | Ïó∞ÎèÑ | ÏõêÎ≥∏ | Í≤ÄÏ¶ù | Ï∞®Ïù¥ |
|------|------|------|------|------|
| v39 | 2020 | **509.99%** | 221.56% | -288.44%p |
| v39 | 2021 | **107.55%** | 20.38% | -87.16%p |
| v40 | 2020 | **382.49%** | 166.08% | -216.41%p |

**Ìå®ÌÑ¥**: ÏÜêÏã§ Ïó∞ÎèÑÎäî Ï†ïÌôï (¬±0.05%), Ïù¥Ïùµ Ïó∞ÎèÑÎßå Í≥ºÎåÄ Í≥ÑÏÇ∞
**ÏõêÏù∏**: ÏõêÎ≥∏ BacktesterÏùò Î≥µÎ¶¨ ÎàÑÏ†Å Î°úÏßÅ Ïò§Î•ò

---

## ÌîÑÎ°úÏ†ùÌä∏ ÌûàÏä§ÌÜ†Î¶¨

### Phase 0: Raw Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù (2024-10)

**Î™©Ìëú**: 100+ ÏßÄÌëúÏùò ÏòàÏ∏°Î†• Î∂ÑÏÑù

**ÌïµÏã¨ Î∞úÍ≤¨**:
- **MFI (Money Flow Index)**: Í∞ÄÏû• Í∞ïÎ†•Ìïú ÏòàÏ∏° ÏßÄÌëú (Q4-Q1 Ïä§ÌîÑÎ†àÎìú 1.33%)
- **Day ÌÉÄÏûÑÌîÑÎ†àÏûÑ**: ÏµúÍ≥† ÌÅ¥Îü¨Ïä§ÌÑ∞ ÌèâÍ∑† 5Ïùº ÏàòÏùµÎ•† 24.13%
- **Minute5-60**: Îã®ÎèÖ ÏòàÏ∏°Î†• Í±∞Ïùò 0, Day ÌïÑÌÑ∞ ÌïÑÏàò

**ÏôÑÎ≤ΩÌïú Ï†ïÎãµ ÏãúÍ∑∏ÎÑê** (ÎØ∏Îûò Îç∞Ïù¥ÌÑ∞ Í∏∞Î∞ò):
- 45,254Í∞ú ÏãúÍ∑∏ÎÑê (2020-2024)
- Day ÌèâÍ∑† ÏàòÏùµÎ•†: 14.52%
- Minute60: 3.20%, Minute5: 1.71%

### Phase 1: Ïû•Í∏∞ Ìà¨Ïûê Ïã§Ìóò (v30, 2024-11)

**Î™©Ìëú**: Buy&Hold Ï¥àÍ≥º

**Í≤∞Í≥º**: **Ïã§Ìå®** ‚ùå
- Buy&Hold 2024: +134~139%
- ÏµúÍ≥† Îä•Îèô Ï†ÑÎûµ: +45~80%
- **ÌïôÏäµ**: ÏÉÅÏäπÏû•ÏóêÏÑúÎäî holdÍ∞Ä ÏµúÏÑ†

### Phase 2: Îã®ÌÉÄ Ï†ÑÎûµ (v31, 2024-12)

**Î™©Ìëú**: Minute60 Ïä§Ï∫òÌïë

**Í≤∞Í≥º**: **ÏÑ±Í≥µ** ‚úÖ
- 2024 ÏàòÏùµÎ•†: +6.33%
- Sharpe: 1.94, MDD: -8.96%
- 124Í±∞Îûò, ÏäπÎ•† 45%, ÌèâÍ∑† ÏàòÏùµ 1.60%

**ÌïµÏã¨ Î°úÏßÅ**:
- Day-level ÏãúÏû• Î∂ÑÎ•ò (BULL/BEAR/SIDEWAYS)
- BULL ÏãúÏû•ÏóêÏÑúÎßå Í±∞Îûò
- Minute60 Î™®Î©òÌÖÄ Ï∂îÏ¢Ö

### Phase 3: Ìà¨Ìëú ÏïôÏÉÅÎ∏î (v13~v18, 2025-01)

**Ïã§Ìóò**: VWAP + Breakout + Stochastic Ï°∞Ìï©

**Í≤∞Í≥º**: Ï§ëÎ¶Ω
- v18 (VWAP Îã®ÎèÖ): 78.8% ÏäπÎ•†
- v17 (VWAP + Breakout): Îã®Ïàú Ï°∞Ìï© Ïö∞Ïàò
- **ÌïôÏäµ**: Îã®ÏàúÌï®Ïù¥ ÏµúÏÑ†

### Phase 4: Î©ÄÌã∞ Ï†ÑÎûµ ÌÜµÌï© (v32~v34, 2025-10-19)

**v32_aggressive** (2024 ÏµúÏ†ÅÌôî):
- 2024: +96.47% ‚úÖ
- 2025: +2.90% ‚ùå (Ïò§Î≤ÑÌîºÌåÖ)

**v34_supreme** (2020-2024 Multi-Strategy):
- ÌïôÏäµ: 2020-2024 (5ÎÖÑ)
- 2025 OOS: **+8.43%**
- 7-Level ÏãúÏû• Î∂ÑÎ•ò ÎèÑÏûÖ

### Phase 5: ÎèôÏ†Å ÏùµÏ†à + SIDEWAYS (v35, 2025-10-19)

**v35_optimized**:
- 2025 OOS: **+14.20%** ‚≠ê
- Sharpe: 2.24 (v34 1.34 ÎåÄÎπÑ 67% Ï¶ùÍ∞Ä)
- **ÌïµÏã¨ ÌòÅÏã†**:
  1. ÎèôÏ†Å ÏùµÏ†à/ÏÜêÏ†à ÏãúÏä§ÌÖú
  2. SIDEWAYS Ï†ÑÎûµ 3Ï¢Ö Ï∂îÍ∞Ä
  3. Trailing Stop

**Ìö®Í≥º**:
- 2023ÎÖÑ +2.48% ‚Üí +13.64% (**+11.16%p**, 450% Ï¶ùÍ∞Ä)
- Sharpe 1.34 ‚Üí 2.24 (+67%)

### Phase 6: Multi-Timeframe (v36, 2025-10-19)

**v36_multi_timeframe** (ÌîÑÎ†àÏûÑÏõåÌÅ¨ ÏôÑÏÑ±):
- Day (v35) + Minute240 (Ïä§Ïúô) + Minute60 (Ïä§Ï∫òÌïë)
- ÏûêÎ≥∏ Î∞∞Î∂Ñ: Day 40%, M240 30%, M60 30%
- **ÏÉÅÌÉú**: ÌîÑÎ†àÏûÑÏõåÌÅ¨ ÏôÑÎ£å, Î∞±ÌÖåÏä§ÌåÖ ÎåÄÍ∏∞

---

## ÌïµÏã¨ ÌïôÏäµ ÏÇ¨Ìï≠

### 1. Buy&HoldÎäî Îä•Îèô Í±∞ÎûòÎ°ú Î∂àÍ∞ÄÎä• (Phase 1)

**Îç∞Ïù¥ÌÑ∞**:
| Ïó∞ÎèÑ | Buy&Hold | ÏµúÍ≥† Îä•Îèô Ï†ÑÎûµ | Ï∞®Ïù¥ |
|------|----------|----------------|------|
| 2024 | +137% | +96% (v32) | -41%p |
| 2023 | +170% | +45% | -125%p |

**ÌïôÏäµ**: ÏÉÅÏäπÏû•ÏóêÏÑúÎäî holdÍ∞Ä Ìï≠ÏÉÅ Ïö∞ÏúÑ

### 2. Îã®ÌÉÄÍ∞Ä Ïû•ÌÉÄÎ≥¥Îã§ Ïú†Î¶¨ (Phase 2)

**Ïù¥Ïú†**:
- Î≥µÎ¶¨ Ìö®Í≥º Í∑πÎåÄÌôî (Îπ†Î•∏ ÌöåÏ†Ñ)
- Î¶¨Ïä§ÌÅ¨ Î∂ÑÏÇ∞ (ÏßßÏùÄ ÎÖ∏Ï∂ú)
- Í∏∞Ìöå ÌôïÎåÄ (1ÎÖÑ 124Ìöå vs 12Ìöå)

**Ï¶ùÍ±∞**:
- v31 Ïû•Í∏∞ 30Ïùº Î≥¥Ïú†: ÌèâÍ∑† 23.24%, 12Ìöå/ÎÖÑ
- v31 Îã®ÌÉÄ 5-6Ïùº Î≥¥Ïú†: 2024 +1,338%, 176Ìöå/ÎÖÑ
- **Ï∞®Ïù¥**: Îã®ÌÉÄÍ∞Ä **8.6Î∞∞ Îçî Ìö®Í≥ºÏ†Å**

### 3. MFIÍ∞Ä Í∞ÄÏû• Í∞ïÎ†•Ìïú ÏßÄÌëú (Phase 0)

**Pearson ÏÉÅÍ¥ÄÍ≥ÑÏàò**:
| ÏßÄÌëú | Day ÏÉÅÍ¥Ä | Minute60 ÏÉÅÍ¥Ä |
|------|---------|---------------|
| **MFI** | **0.170** | 0.054 |
| Local Minima | 0.063 | 0.088 |
| Low Volatility | -0.092 | **-0.123** |

**ÏµúÏ†Å Í∞ÄÏ§ëÏπò**:
- Day: MFI 28Ï†ê (ÏµúÎåÄ)
- Minute60: Low Vol 37Ï†ê (Î≥ÄÎèôÏÑ± ÏïïÏ∂ï ‚Üí Ìè≠Î∞ú Ìè¨Ï∞©)

### 4. Îã®ÏàúÌï®Ïù¥ ÏµúÏÑ† (Phase 3)

**Ïã§Ìóò Í≤∞Í≥º**:
- v18 (VWAP Îã®ÎèÖ): 78.8% ÏäπÎ•†
- v17 (VWAP + Breakout): Îçî ÎÇòÏùå
- v13 (VWAP + Breakout + Stochastic): Ïò§ÌûàÎ†§ ÏïÖÌôî

**ÏõêÏπô**: 3Í∞ú Ïù¥ÏÉÅ ÏßÄÌëú Ï°∞Ìï© Í∏àÏßÄ

### 5. Out-of-Sample Í≤ÄÏ¶ù ÌïÑÏàò (Phase 4)

**v32 ÏÇ¨Î°Ä**:
- 2024 ÌïôÏäµ: +96.47%
- 2025 Í≤ÄÏ¶ù: +2.90% (97% ÌïòÎùΩ!)

**v35 ÏÇ¨Î°Ä**:
- 2020-2024 ÌïôÏäµ: ÌèâÍ∑† +18%
- 2025 Í≤ÄÏ¶ù: +14.20% (ÏïàÏ†ïÏ†Å)

**Í≤∞Î°†**: Îã®Ïùº Ïó∞ÎèÑ ÌïôÏäµÏùÄ Ïò§Î≤ÑÌîºÌåÖ ÌïÑÏó∞

### 6. ÏàòÏàòÎ£åÎäî Ï†ÑÎûµÏùò ÏÉùÎ™ÖÏÑ†

**ÏàòÏàòÎ£å Íµ¨Ï°∞**:
- ÏßÑÏûÖ: 0.05%
- Ï≤≠ÏÇ∞: 0.05%
- Ïä¨Î¶¨ÌîºÏßÄ: 0.04%
- **Ï¥ù**: 0.14%/Í±∞Îûò

**ÏûÑÍ≥ÑÏ†ê**:
- Î™©Ìëú ÏàòÏùµ >= 10 √ó ÏàòÏàòÎ£å
- ÏµúÏÜå 1.4% Î™©Ìëú ÌïÑÏöî
- v31ÏùÄ 1.2% ÏÇ¨Ïö© ‚Üí Í±∞Îûò Ïàò Ï§ÑÏûÑ

---

## Ï†ÑÎûµ Ïπ¥ÌÉàÎ°úÍ∑∏

### Î≤îÎ°Ä

- ‚úÖ = ÏûàÏùå
- ‚úó = ÏóÜÏùå
- ‚ö†Ô∏è = Í≤ÄÏ¶ù ÌïÑÏöî
- üî¥ = Í≤ÄÏ¶ù Î∂àÍ∞Ä
- üü¢ = Í≤ÄÏ¶ù ÏôÑÎ£å

### Tier S: ÏµúÍ≥† Ï†ÑÎûµ (Ï¶âÏãú Ïû¨Íµ¨Ï∂ï)

#### v35_optimized

**ÌÉÄÏûÑÌîÑÎ†àÏûÑ**: Day
**Ïª®ÏÖâ**: v34 + Optuna ÏµúÏ†ÅÌôî + ÎèôÏ†Å ÏùµÏ†à + SIDEWAYS Í∞ïÌôî
**ÌååÏùº ÏÉÅÌÉú**: ‚úÖ backtest.py, ‚úÖ strategy.py, ‚úÖ config.json, ‚ö†Ô∏è results (Ïã§Ìñâ Ï§ë)
**Í≤ÄÏ¶ù ÏÉÅÌÉú**: ‚ö†Ô∏è Í≤ÄÏ¶ù ÌïÑÏöî (StandardCompoundEngineV2Î°ú Ïû¨Í≥ÑÏÇ∞)

**ÌïµÏã¨ Î°úÏßÅ**:
```yaml
Entry:
  - 7-Level ÏãúÏû• Î∂ÑÎ•ò (BULL_STRONG/MODERATE, SIDEWAYS_UP/FLAT/DOWN, BEAR_MODERATE/STRONG)
  - ÏãúÏû•Î≥Ñ Ï†ÑÎûµ ÏûêÎèô ÏÑ†ÌÉù
    ‚Ä¢ BULL_STRONG: Momentum Trading (ÌèâÍ∑† +5.59%)
    ‚Ä¢ BULL_MODERATE: Breakout Trading (ÌèâÍ∑† +3.50%)
    ‚Ä¢ SIDEWAYS_*: RSI + Bollinger Bands (+2.80%)

Exit:
  - ÎèôÏ†Å ÏùµÏ†à (ÏãúÏû•Î≥Ñ):
    ‚Ä¢ BULL_STRONG: TP1 10%, TP2 15%, TP3 20%
    ‚Ä¢ BULL_MODERATE: TP1 7%, TP2 10%, TP3 15%
    ‚Ä¢ SIDEWAYS: TP1 5%, TP2 7%, TP3 10%
  - ÎèôÏ†Å ÏÜêÏ†à:
    ‚Ä¢ BULL: -2%
    ‚Ä¢ SIDEWAYS: -1.5%
    ‚Ä¢ BEAR: Ï¶âÏãú Ï≤≠ÏÇ∞
  - Trailing Stop: Í≥†Ï†ê ÎåÄÎπÑ -0.5%

Position Sizing: Í≥†Ï†ï 50%
```

**ÏÑ±Í≥º (ÏõêÎ≥∏)**:
| Ïó∞ÎèÑ | ÏàòÏùµÎ•† | Sharpe | MDD | Í±∞Îûò |
|------|--------|--------|-----|------|
| 2023 | +13.64% | 2.24 | -2.33% | 8 |
| 2024 | +25.91% | 2.24 | -2.33% | 10 |
| 2025 | **+14.20%** | 2.24 | -2.33% | 8 |

**Í≤ÄÏ¶ù ÏÑ±Í≥º**: ‚ö†Ô∏è ÎåÄÍ∏∞ Ï§ë

**Ï∞∏Í≥† Î¨∏ÏÑú**:
- [PHASE5_6_FINAL_REPORT.md](PHASE5_6_FINAL_REPORT.md)
- [v35_optimized/config.json](v35_optimized/config.json)

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (ÏµúÏö∞ÏÑ†)

---

#### v34_supreme

**ÌÉÄÏûÑÌîÑÎ†àÏûÑ**: Day
**Ïª®ÏÖâ**: 2020-2024 Îç∞Ïù¥ÌÑ∞ Í∏∞Î∞ò Multi-Strategy ÌÜµÌï©
**ÌååÏùº ÏÉÅÌÉú**: ‚úÖ backtest.py, ‚úÖ strategy.py, ‚úÖ config.json, ‚úÖ backtest_results.json
**Í≤ÄÏ¶ù ÏÉÅÌÉú**: ‚ö†Ô∏è Í≤ÄÏ¶ù ÌïÑÏöî

**ÌïµÏã¨ Î°úÏßÅ**:
```yaml
Entry:
  - 7-Level ÏãúÏû• Î∂ÑÎ•ò
  - Ïú†Î™Ö Îã®ÌÉÄ Ï†ÑÎûµ ÌÜµÌï©:
    ‚Ä¢ Momentum Trading: 10Ìöå/ÎÖÑ, +5.59%
    ‚Ä¢ Breakout Trading: 4.2Ìöå/ÎÖÑ, +3.50%
    ‚Ä¢ RSI + BB: 1.6Ìöå/ÎÖÑ, +2.80%

Exit:
  - Í≥†Ï†ï ÏùµÏ†à: +5%
  - Í≥†Ï†ï ÏÜêÏ†à: -2%
  - ÏµúÎåÄ Î≥¥Ïú†: 120ÏãúÍ∞Ñ

Position Sizing: Í≥†Ï†ï 50%
```

**ÏÑ±Í≥º (ÏõêÎ≥∏)**:
| Ïó∞ÎèÑ | ÏàòÏùµÎ•† | Sharpe | MDD | Í±∞Îûò |
|------|--------|--------|-----|------|
| 2025 | **+8.43%** | 1.34 | -2.83% | 5 |

**Í≤ÄÏ¶ù ÏÑ±Í≥º**: ‚ö†Ô∏è ÎåÄÍ∏∞ Ï§ë

**Ï∞∏Í≥† Î¨∏ÏÑú**:
- [v34_supreme/FINAL_REPORT.md](v34_supreme/FINAL_REPORT.md)

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: ‚≠ê‚≠ê‚≠ê‚≠ê (Îß§Ïö∞ Ï§ëÏöî)

---

#### v31_scalping_with_classifier

**ÌÉÄÏûÑÌîÑÎ†àÏûÑ**: Minute60 (Ïä§Ï∫òÌïë)
**Ïª®ÏÖâ**: Day-level ÏãúÏû• ÌïÑÌÑ∞ + Minute60 Î™®Î©òÌÖÄ Ï∂îÏ¢Ö
**ÌååÏùº ÏÉÅÌÉú**: ‚úÖ backtest.py, ‚úÖ strategy.py, ‚úÖ config.json, ‚úÖ results.json
**Í≤ÄÏ¶ù ÏÉÅÌÉú**: ‚ö†Ô∏è Í≤ÄÏ¶ù ÌïÑÏöî

**ÌïµÏã¨ Î°úÏßÅ**:
```yaml
Market Classifier (Day-level):
  BULL: MFI >= 50 AND MACD > Signal
  BEAR: MFI <= 40 AND MACD < Signal
  SIDEWAYS: ÎÇòÎ®∏ÏßÄ

Entry (Minute60, BULLÎßå):
  - ÏµúÍ∑º 5ÏãúÍ∞Ñ Î™®Î©òÌÖÄ >= +0.7%
  - Ïó∞ÏÜç ÏÉÅÏäπ >= 3ÏãúÍ∞Ñ
  - Volume ratio >= 1.3x
  - RSI <= 70 (Í≥ºÎß§Ïàò ÌöåÌîº)

Exit:
  - Take profit: +1.2%
  - Stop loss: -0.7%
  - Trailing stop: peak -0.5%
  - Momentum reverse: ÏµúÍ∑º 5ÏãúÍ∞Ñ -1%
  - Timeout: 50ÏãúÍ∞Ñ

Position Sizing: Í≥†Ï†ï 50%
```

**ÏÑ±Í≥º (ÏõêÎ≥∏)**:
| Ïó∞ÎèÑ | ÏàòÏùµÎ•† | Sharpe | MDD | Í±∞Îûò | ÏäπÎ•† |
|------|--------|--------|-----|------|------|
| 2024 | +6.33% | 1.94 | -8.96% | 124 | 45% |

**Í≤ÄÏ¶ù ÏÑ±Í≥º**: ‚ö†Ô∏è ÎåÄÍ∏∞ Ï§ë

**Ï∞∏Í≥† Î¨∏ÏÑú**:
- [v31_scalping_with_classifier/FINAL_REPORT.md](v31_scalping_with_classifier/FINAL_REPORT.md)

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: ‚≠ê‚≠ê‚≠ê‚≠ê (Ï§ëÏöî)

---

### Tier A: Ï§ëÏöî Ï†ÑÎûµ (Î∞±ÌÖåÏä§Ìä∏ Ïû¨Ïã§Ìñâ ÌïÑÏöî)

#### v41_scalping_voting

**ÌÉÄÏûÑÌîÑÎ†àÏûÑ**: Multi (Day/M240/M60/M15/M5)
**Ïª®ÏÖâ**: 3-Layer Voting System + Turn-of-Candle Effect
**ÌååÏùº ÏÉÅÌÉú**: ‚úÖ backtest.py, ‚úó strategy.py, ‚úÖ config.json, ‚úÖ result files (4Í∞ú)
**Í≤ÄÏ¶ù ÏÉÅÌÉú**: üî¥ Í≤ÄÏ¶ù Î∂àÍ∞Ä (Î∞±ÌÖåÏä§Ìä∏ Í≤∞Í≥º ÌååÏùº ÏóÜÏùå)

**ÌïµÏã¨ Î°úÏßÅ**:
```yaml
Phase 0 ÏôÑÎ£å:
  - Î∏åÎ£®Ìä∏Ìè¨Ïä§ ÏàòÏùµ ÏºÄÏù¥Ïä§: 36,596Í∞ú (2020-2023)
  - Day 973Í∞ú (ÌèâÍ∑† 20.72%, ÏäπÎ•† 100%)
  - Minute60 14,348Í∞ú (ÌèâÍ∑† 3.48%)

Scoring System (ÏµúÏ†ÅÌôî ÏôÑÎ£å):
  Day MFI: 28Ï†ê (ÏÉÅÍ¥Ä 0.170)
  M60 Low Vol: 37Ï†ê (Ïó≠ÏÉÅÍ¥Ä -0.123)
  M15 Local Min: 27Ï†ê (ÏÉÅÍ¥Ä 0.085)

Tier Î∂ÑÎ•ò:
  S-Tier: Score >= 25Ï†ê (ÏÉÅÏúÑ 20%)
  A-Tier: Score >= 15Ï†ê (ÏÉÅÏúÑ 40%)
```

**ÏÑ±Í≥º (ÏõêÎ≥∏)**:
- ‚ö†Ô∏è Î∞±ÌÖåÏä§Ìä∏ Ïû¨Ïã§Ìñâ ÌïÑÏöî

**Í≤ÄÏ¶ù ÏÑ±Í≥º**: üî¥ Î∂àÍ∞Ä (ÌååÏùº ÏóÜÏùå)

**Ï∞∏Í≥† Î¨∏ÏÑú**:
- [251020-1253_V41_FINAL_VALIDATION_REPORT.md](251020-1253_V41_FINAL_VALIDATION_REPORT.md)
- [v41_scalping_voting/analysis/](v41_scalping_voting/analysis/)

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: ‚≠ê‚≠ê‚≠ê (Phase 0 ÏôÑÎ£å, Î∞±ÌÖåÏä§Ìä∏Îßå Ïû¨Ïã§Ìñâ)

---

#### v30_perfect_longterm

**ÌÉÄÏûÑÌîÑÎ†àÏûÑ**: Day
**Ïª®ÏÖâ**: MFI + MACD + ADX Ïû•Í∏∞ Ìà¨Ïûê
**ÌååÏùº ÏÉÅÌÉú**: ‚úÖ backtest.py, ‚úÖ strategy.py, ‚úÖ config.json, ‚úÖ results.json
**Í≤ÄÏ¶ù ÏÉÅÌÉú**: ‚ö†Ô∏è Í≤ÄÏ¶ù ÌïÑÏöî

**ÌïµÏã¨ Î°úÏßÅ**:
```yaml
Entry (Day):
  - MFI >= 50 (ÏûêÍ∏à Ïú†ÏûÖ)
  - MACD > Signal (ÏÉÅÏäπ Ï∂îÏÑ∏)
  - ADX >= 25 (Í∞ïÌïú Ï∂îÏÑ∏)
  - Í±∞ÎûòÎüâ Ï¶ùÍ∞Ä

Exit:
  - Í≥†Ï†ï ÏùµÏ†à: +20%
  - Í≥†Ï†ï ÏÜêÏ†à: -10%
  - ÏµúÎåÄ Î≥¥Ïú†: 30Ïùº
```

**ÏÑ±Í≥º (ÏõêÎ≥∏)**:
| Ïó∞ÎèÑ | ÏàòÏùµÎ•† | Buy&Hold | Ï∞®Ïù¥ |
|------|--------|----------|------|
| 2024 | +45~80% | +137% | -92~-57%p ‚ùå |

**ÌïôÏäµ**:
- Buy&Hold Ï¥àÍ≥º Î∂àÍ∞ÄÎä•
- ÏÉÅÏäπÏû•ÏóêÏÑúÎäî holdÍ∞Ä ÏµúÏÑ†

**Í≤ÄÏ¶ù ÏÑ±Í≥º**: ‚ö†Ô∏è ÎåÄÍ∏∞ Ï§ë

**Ï∞∏Í≥† Î¨∏ÏÑú**:
- [v30_perfect_longterm/LEARNING.md](v30_perfect_longterm/LEARNING.md)

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: ‚≠ê‚≠ê (Ï∞∏Í≥†Ïö©, ÌïôÏäµ Í∞ÄÏπò ÎÜíÏùå)

---

### Tier B: Í≤ÄÏ¶ù ÏôÑÎ£å (Ïû¨Í≥ÑÏÇ∞ ÌïÑÏöî)

#### v38_ensemble, v39_voting, v40_adaptive_voting

**Í≤ÄÏ¶ù ÏÉÅÌÉú**: üü¢ Í≤ÄÏ¶ù ÏôÑÎ£å (StandardCompoundEngineV2)

**Í≤ÄÏ¶ù Í≤∞Í≥º ÏöîÏïΩ**:

**v38_ensemble**:
| Ïó∞ÎèÑ | ÏõêÎ≥∏ | Í≤ÄÏ¶ù | Ï∞®Ïù¥ |
|------|------|------|------|
| 2020 | 149.68% | 4.43% | **-145.25%** ‚ö†Ô∏è |
| 2024 | -1.05% | -1.06% | -0.01% ‚úÖ |

**v39_voting**:
| Ïó∞ÎèÑ | ÏõêÎ≥∏ | Í≤ÄÏ¶ù | Ï∞®Ïù¥ |
|------|------|------|------|
| 2020 | 509.99% | 221.56% | **-288.44%** ‚ö†Ô∏è |
| 2022 | -28.16% | -28.19% | -0.03% ‚úÖ |

**v40_adaptive_voting**:
| Ïó∞ÎèÑ | ÏõêÎ≥∏ | Í≤ÄÏ¶ù | Ï∞®Ïù¥ |
|------|------|------|------|
| 2020 | 382.49% | 166.08% | **-216.41%** ‚ö†Ô∏è |
| 2021 | -7.58% | -7.60% | -0.02% ‚úÖ |

**Ìå®ÌÑ¥**: Î™®Îì† Ïù¥Ïùµ Ïó∞ÎèÑ 2~5Î∞∞ Í≥ºÎåÄ Í≥ÑÏÇ∞, ÏÜêÏã§ Ïó∞ÎèÑÎäî Ï†ïÌôï

**Ï∞∏Í≥† Î¨∏ÏÑú**:
- [251021-1316_V37_V45_COMPREHENSIVE_VALIDATION_REPORT.md](251021-1316_V37_V45_COMPREHENSIVE_VALIDATION_REPORT.md)
- [validation/comprehensive_validation_results/](../validation/comprehensive_validation_results/)

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: ‚≠ê (Ï∞∏Í≥†Ïö©, ÏõêÎ≥∏ Backtester Î≤ÑÍ∑∏ ÏàòÏ†ï ÌïÑÏöî)

---

### Tier C: Î†àÍ±∞Ïãú (Ï∞∏Í≥†Ïö©)

#### v01~v12: Ï¥àÍ∏∞ Ïã§Ìóò

**Í≥µÌÜµ ÌäπÏßï**:
- ÎåÄÎ∂ÄÎ∂Ñ Minute5 ÌÉÄÏûÑÌîÑÎ†àÏûÑ
- Îã®Ïàú RSI, EMA, MACD Ï°∞Ìï©
- Î≥µÏû°Ìïú ML/RL ÏãúÎèÑ (v01, v10_rl_hybrid)

**ÎåÄÌëú Ï†ÑÎûµ**:

**v01_adaptive_rsi_ml**:
- ML Í∏∞Î∞ò RSI Ï†ÅÏùëÌòï
- Minute5
- ‚ö†Ô∏è Í≤ÄÏ¶ù ÌïÑÏöî

**v07_enhanced_day**:
- EMA Golden Cross + MACD Golden Cross
- Day
- Îã®ÏàúÌïòÏßÄÎßå Ìö®Í≥ºÏ†Å

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: - (ÎÇÆÏùå, Ïó≠ÏÇ¨Ï†Å Í∞ÄÏπò)

---

#### v13~v18: VWAP/Voting Ïã§Ìóò

**ÌïµÏã¨ ÌïôÏäµ**:
- v18 (VWAP Îã®ÎèÖ): 78.8% ÏäπÎ•† ‚úÖ
- v17 (VWAP + Breakout): Îçî ÎÇòÏùå ‚úÖ
- v13 (3Í∞ú ÏßÄÌëú): Ïò§ÌûàÎ†§ ÏïÖÌôî ‚ùå

**ÎåÄÌëú Ï†ÑÎûµ**:

**v18_vwap_only**:
- VWAP Îã®ÎèÖ
- Day
- 78.8% ÏäπÎ•†

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: ‚≠ê (Îã®Ïàú Ï†ÑÎûµ Ï∞∏Í≥†)

---

#### v19~v29: ÏãúÏû• Ï†ÅÏùëÌòï Ïã§Ìóò

**ÌäπÏßï**:
- ÏãúÏû• ÏÉÅÌÉú ÏûêÎèô Î∂ÑÎ•ò
- Ï†ÅÏùëÌòï Ï†ÑÎûµ Ï†ÑÌôò
- Ïú†Ï†Ñ ÏïåÍ≥†Î¶¨Ï¶ò ÏµúÏ†ÅÌôî (v21, v22)

**ÎåÄÌëú Ï†ÑÎûµ**:

**v19_market_adaptive_hybrid**:
- Bear/Bull/Sideways ÏûêÎèô Ï†ÑÌôò
- Day
- ‚ö†Ô∏è Í≤ÄÏ¶ù ÌïÑÏöî

**v21_perfect_timing_day**:
- Ïú†Ï†Ñ ÏïåÍ≥†Î¶¨Ï¶ò ÏµúÏ†ÅÌôî
- Day
- ÏôÑÎ≤Ω ÌÉÄÏù¥Î∞ç Ïû¨ÌòÑ ÏãúÎèÑ

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: ‚≠ê (Ïª®ÏÖâ Ï∞∏Í≥†)

---

### Tier D: Í≤ÄÏ¶ù Î∂àÍ∞Ä (v42~v45)

#### v42_ultimate_scalping, v43_supreme_scalping, v44_supreme_hybrid_scalping, v45_ultimate_dynamic_scalping

**ÌååÏùº ÏÉÅÌÉú**: ‚úó backtest.py, ‚úó strategy.py, ‚úó config.json
**Í≤ÄÏ¶ù ÏÉÅÌÉú**: üî¥ Í≤ÄÏ¶ù Î∂àÍ∞Ä (Î≥µÎ¶¨ Î≤ÑÍ∑∏)

**v43 Î≤ÑÍ∑∏ Î∞úÍ≤¨** (2025-10-20):
```python
# ÏûòÎ™ªÎêú position Í≥ÑÏÇ∞
position = capital / (capital √ó 1.0007)  # = 0.9993 (BTC ÏàòÎüâ ÏïÑÎãò!)
sell_revenue = position √ó sell_price √ó 0.9993  # ÏôÑÏ†ÑÌûà ÏûòÎ™ªÎê®
```

**Î≥¥Í≥†Îêú ÏÑ±Í≥º vs Ïã§Ï†ú**:
| Ïó∞ÎèÑ | v43 Î≤ÑÍ∑∏ | Ïã§Ï†ú | ÏôúÍ≥° |
|------|---------|------|------|
| 2021 | +470% | +48% | 9.8Î∞∞ |
| 2024 | +1,277% | +111% | 11.5Î∞∞ |
| 2025 | +1,596% | +13% | 123Î∞∞ |

**Ï∞∏Í≥† Î¨∏ÏÑú**:
- [251020-1526_V43_SUPREME_FINAL_REPORT.md](251020-1526_V43_SUPREME_FINAL_REPORT.md)
- [251020-1727_V45_ULTIMATE_FINAL_REPORT.md](251020-1727_V45_ULTIMATE_FINAL_REPORT.md)

**Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ**: üî¥ Î∂àÍ∞Ä (Î≤ÑÍ∑∏Î°ú Ïù∏Ìïú Î¨¥Ìö®)

---

## ÌëúÏ§Ä ÌîÑÎ°úÏ†ùÌä∏ Íµ¨Ï°∞

### ÌïÑÏàò ÌååÏùº Íµ¨Ï°∞

```
strategies/vXX_name/
‚îú‚îÄ‚îÄ config.json             # ÌïòÏù¥ÌçºÌååÎùºÎØ∏ÌÑ∞ (ÌïÑÏàò)
‚îú‚îÄ‚îÄ strategy.py             # Ï†ÑÎûµ Î°úÏßÅ (ÌïÑÏàò)
‚îÇ   ‚îî‚îÄ‚îÄ def vXX_strategy(df) ‚Üí signals
‚îú‚îÄ‚îÄ backtest.py             # Î∞±ÌÖåÏä§Ìä∏ Ïã§Ìñâ (ÌïÑÏàò)
‚îÇ   ‚îî‚îÄ‚îÄ StandardCompoundEngineV2 ÏÇ¨Ïö©
‚îú‚îÄ‚îÄ backtest_results.json   # ÌëúÏ§Ä ÌòïÏãù Í≤∞Í≥º (ÏûêÎèô ÏÉùÏÑ±)
‚îú‚îÄ‚îÄ README.md              # Ï†ÑÎûµ ÏÑ§Î™Ö (ÏÑ†ÌÉù)
‚îú‚îÄ‚îÄ LEARNING.md            # ÌïôÏäµ ÎÇ¥Ïö© (ÏÑ†ÌÉù)
‚îî‚îÄ‚îÄ analysis/              # Î∂ÑÏÑù Í≤∞Í≥º (ÏÑ†ÌÉù)
    ‚îú‚îÄ‚îÄ perfect_signals/
    ‚îú‚îÄ‚îÄ tier_backtest/
    ‚îî‚îÄ‚îÄ optimization/
```

### config.json ÌëúÏ§Ä ÌòïÏãù

```json
{
  "version": "v35",
  "TIMEFRAME": "day",
  "concept": "v34 + Optuna ÏµúÏ†ÅÌôî + ÎèôÏ†Å ÏùµÏ†à + SIDEWAYS Í∞ïÌôî",

  "STRATEGY": {
    "type": "multi_strategy",
    "market_classification": {
      "levels": 7,
      "bull_strong": {"mfi": 60, "macd_signal_diff": 1.5},
      "bull_moderate": {"mfi": 50, "macd_signal_diff": 0.5},
      "sideways_up": {"mfi": 45, "macd_signal_diff": 0},
      "sideways_flat": {"mfi": 40, "macd_signal_diff": 0},
      "sideways_down": {"mfi": 35, "macd_signal_diff": 0},
      "bear_moderate": {"mfi": 30, "macd_signal_diff": -0.5},
      "bear_strong": {"mfi": 20, "macd_signal_diff": -1.5}
    }
  },

  "ENTRY": {
    "bull_strong": {
      "strategy": "momentum_trading",
      "min_momentum_5h": 0.7,
      "min_consecutive_up": 3,
      "volume_ratio": 1.3,
      "rsi_max": 70
    },
    "bull_moderate": {
      "strategy": "breakout_trading",
      "price_above_vwap": true,
      "volume_ratio": 1.2
    },
    "sideways": {
      "strategy": "rsi_bollinger_bands",
      "rsi_min": 30,
      "rsi_max": 70,
      "bb_lower": true
    }
  },

  "EXIT": {
    "dynamic_tp": {
      "bull_strong": {"tp1": 0.10, "tp2": 0.15, "tp3": 0.20},
      "bull_moderate": {"tp1": 0.07, "tp2": 0.10, "tp3": 0.15},
      "sideways": {"tp1": 0.05, "tp2": 0.07, "tp3": 0.10}
    },
    "dynamic_sl": {
      "bull": -0.02,
      "sideways": -0.015,
      "bear": 0
    },
    "trailing_stop": {
      "enabled": true,
      "peak_drop_pct": 0.005
    },
    "split_exit": {
      "tp1_fraction": 0.4,
      "tp2_fraction": 0.3,
      "tp3_fraction": 0.3
    }
  },

  "POSITION": {
    "sizing": "fixed",
    "fraction": 0.5,
    "max_leverage": 1.0
  },

  "RISK": {
    "fee_rate": 0.0005,
    "slippage": 0.0002,
    "max_drawdown_stop": 0.20
  },

  "BACKTEST": {
    "initial_capital": 10000000,
    "start_date": "2020-01-01",
    "end_date": "2024-12-31",
    "validation_start": "2025-01-01"
  }
}
```

### strategy.py ÌëúÏ§Ä ÌòïÏãù

```python
#!/usr/bin/env python3
"""
v35 Optimized Strategy

ÌïµÏã¨ Í∞úÎÖê:
- 7-Level ÏãúÏû• Î∂ÑÎ•ò
- ÎèôÏ†Å ÏùµÏ†à/ÏÜêÏ†à
- SIDEWAYS Ï†ÑÎûµ Í∞ïÌôî
"""

import pandas as pd
import numpy as np
from typing import Dict, Tuple
import json
from pathlib import Path


def load_config() -> Dict:
    """config.json Î°úÎìú"""
    config_path = Path(__file__).parent / 'config.json'
    with open(config_path) as f:
        return json.load(f)


def classify_market(df: pd.DataFrame, config: Dict) -> pd.Series:
    """7-Level ÏãúÏû• Î∂ÑÎ•ò"""
    classification = config['STRATEGY']['market_classification']

    conditions = [
        (df['mfi'] >= classification['bull_strong']['mfi']) &
        (df['macd'] - df['macd_signal'] >= classification['bull_strong']['macd_signal_diff']),

        (df['mfi'] >= classification['bull_moderate']['mfi']) &
        (df['macd'] - df['macd_signal'] >= classification['bull_moderate']['macd_signal_diff']),

        # ... (SIDEWAYS, BEAR Ï°∞Í±¥)
    ]

    choices = ['BULL_STRONG', 'BULL_MODERATE', 'SIDEWAYS_UP',
               'SIDEWAYS_FLAT', 'SIDEWAYS_DOWN', 'BEAR_MODERATE', 'BEAR_STRONG']

    return np.select(conditions, choices, default='SIDEWAYS_FLAT')


def generate_entry_signals(df: pd.DataFrame, market_state: str, config: Dict) -> pd.Series:
    """ÏãúÏû• ÏÉÅÌÉúÎ≥Ñ ÏßÑÏûÖ Ïã†Ìò∏ ÏÉùÏÑ±"""
    entry_config = config['ENTRY'].get(market_state.lower().split('_')[0], {})

    if market_state == 'BULL_STRONG':
        # Momentum Trading
        momentum_5h = df['close'].pct_change(5)
        consecutive_up = (df['close'] > df['close'].shift(1)).rolling(3).sum()
        volume_ratio = df['volume'] / df['volume'].rolling(20).mean()

        signals = (
            (momentum_5h >= entry_config['min_momentum_5h']) &
            (consecutive_up >= entry_config['min_consecutive_up']) &
            (volume_ratio >= entry_config['volume_ratio']) &
            (df['rsi'] <= entry_config['rsi_max'])
        )

    elif market_state in ['SIDEWAYS_UP', 'SIDEWAYS_FLAT', 'SIDEWAYS_DOWN']:
        # RSI + Bollinger Bands
        signals = (
            (df['rsi'] >= entry_config['rsi_min']) &
            (df['rsi'] <= entry_config['rsi_max']) &
            (df['close'] <= df['bb_lower'])
        )

    else:
        signals = pd.Series(False, index=df.index)

    return signals


def v35_strategy(df: pd.DataFrame) -> Tuple[pd.Series, pd.Series, Dict]:
    """
    v35 Optimized Ï†ÑÎûµ

    Args:
        df: OHLCV + indicators

    Returns:
        buy_signals: Îß§Ïàò Ïã†Ìò∏
        sell_signals: Îß§ÎèÑ Ïã†Ìò∏
        metadata: Ï∂îÍ∞Ä Ï†ïÎ≥¥ (ÏãúÏû• ÏÉÅÌÉú, ÏùµÏ†à/ÏÜêÏ†à Î†àÎ≤® Îì±)
    """
    config = load_config()

    # ÏãúÏû• Î∂ÑÎ•ò
    df['market_state'] = classify_market(df, config)

    # ÏßÑÏûÖ Ïã†Ìò∏
    buy_signals = pd.Series(False, index=df.index)
    for state in df['market_state'].unique():
        mask = df['market_state'] == state
        buy_signals[mask] = generate_entry_signals(df[mask], state, config)

    # Ï≤≠ÏÇ∞ Ïã†Ìò∏ (ÎèôÏ†Å - BacktesterÏóêÏÑú Ï≤òÎ¶¨)
    sell_signals = pd.Series(False, index=df.index)

    # Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ (ÎèôÏ†Å ÏùµÏ†à/ÏÜêÏ†à Î†àÎ≤®)
    metadata = {
        'market_state': df['market_state'],
        'dynamic_tp': df['market_state'].map({
            'BULL_STRONG': config['EXIT']['dynamic_tp']['bull_strong'],
            'BULL_MODERATE': config['EXIT']['dynamic_tp']['bull_moderate'],
            'SIDEWAYS_UP': config['EXIT']['dynamic_tp']['sideways'],
            'SIDEWAYS_FLAT': config['EXIT']['dynamic_tp']['sideways'],
            'SIDEWAYS_DOWN': config['EXIT']['dynamic_tp']['sideways'],
        }),
        'dynamic_sl': df['market_state'].map({
            'BULL_STRONG': config['EXIT']['dynamic_sl']['bull'],
            'BULL_MODERATE': config['EXIT']['dynamic_sl']['bull'],
            'SIDEWAYS_UP': config['EXIT']['dynamic_sl']['sideways'],
            'SIDEWAYS_FLAT': config['EXIT']['dynamic_sl']['sideways'],
            'SIDEWAYS_DOWN': config['EXIT']['dynamic_sl']['sideways'],
            'BEAR_MODERATE': config['EXIT']['dynamic_sl']['bear'],
            'BEAR_STRONG': config['EXIT']['dynamic_sl']['bear'],
        })
    }

    return buy_signals, sell_signals, metadata


if __name__ == '__main__':
    # ÌÖåÏä§Ìä∏
    from core.market_analyzer import MarketAnalyzer

    analyzer = MarketAnalyzer()
    df = analyzer.get_data('day', year=2024)

    buy, sell, meta = v35_strategy(df)
    print(f"Buy signals: {buy.sum()}")
    print(f"Market states: {meta['market_state'].value_counts()}")
```

### backtest.py ÌëúÏ§Ä ÌòïÏãù

```python
#!/usr/bin/env python3
"""
v35 Optimized Backtest

StandardCompoundEngineV2 ÏÇ¨Ïö©
"""

import sys
from pathlib import Path
import json
from datetime import datetime

# Add project root to path
sys.path.insert(0, str(Path(__file__).parent.parent.parent))

from core.market_analyzer import MarketAnalyzer
from validation.standard_compound_engine_v2 import StandardCompoundEngineV2
from strategy import v35_strategy, load_config


def run_backtest(year: str = '2024') -> Dict:
    """
    Ïó∞ÎèÑÎ≥Ñ Î∞±ÌÖåÏä§Ìä∏ Ïã§Ìñâ

    Args:
        year: Î∞±ÌÖåÏä§Ìä∏ Ïó∞ÎèÑ (2020-2025)

    Returns:
        results: Î∞±ÌÖåÏä§Ìä∏ Í≤∞Í≥º
    """
    config = load_config()

    # Îç∞Ïù¥ÌÑ∞ Î°úÎìú
    analyzer = MarketAnalyzer()
    df = analyzer.get_data(config['TIMEFRAME'], year=int(year))

    # Ï†ÑÎûµ Ïã§Ìñâ
    buy_signals, _, metadata = v35_strategy(df)

    # ÏóîÏßÑ Ï¥àÍ∏∞Ìôî
    engine = StandardCompoundEngineV2(
        initial_capital=config['BACKTEST']['initial_capital'],
        fee_rate=config['RISK']['fee_rate'],
        slippage=config['RISK']['slippage']
    )

    # Î∞±ÌÖåÏä§Ìä∏ Ïã§Ìñâ
    position = None

    for idx, row in df.iterrows():
        timestamp = row.name.strftime('%Y-%m-%d %H:%M:%S')
        price = row['close']

        # ÏßÑÏûÖ
        if buy_signals.loc[idx] and position is None:
            success = engine.buy(
                timestamp,
                price,
                fraction=config['POSITION']['fraction']
            )
            if success:
                position = {
                    'entry_time': timestamp,
                    'entry_price': price,
                    'tp_levels': metadata['dynamic_tp'].loc[idx],
                    'sl_level': metadata['dynamic_sl'].loc[idx],
                    'peak_price': price
                }

        # Ï≤≠ÏÇ∞ (Ìè¨ÏßÄÏÖò ÏûàÏùÑ Îïå)
        elif position is not None:
            # Peak ÏóÖÎç∞Ïù¥Ìä∏
            if price > position['peak_price']:
                position['peak_price'] = price

            # Ï≤≠ÏÇ∞ Ï°∞Í±¥ Ï≤¥ÌÅ¨
            should_exit = False
            exit_reason = None

            # 1. ÎèôÏ†Å ÏùµÏ†à (3Îã®Í≥Ñ)
            tp1 = position['entry_price'] * (1 + position['tp_levels']['tp1'])
            tp2 = position['entry_price'] * (1 + position['tp_levels']['tp2'])
            tp3 = position['entry_price'] * (1 + position['tp_levels']['tp3'])

            if price >= tp3:
                should_exit = True
                exit_reason = 'TP3 reached'
                exit_fraction = config['EXIT']['split_exit']['tp3_fraction']
            elif price >= tp2:
                should_exit = True
                exit_reason = 'TP2 reached'
                exit_fraction = config['EXIT']['split_exit']['tp2_fraction']
            elif price >= tp1:
                should_exit = True
                exit_reason = 'TP1 reached'
                exit_fraction = config['EXIT']['split_exit']['tp1_fraction']

            # 2. ÎèôÏ†Å ÏÜêÏ†à
            sl = position['entry_price'] * (1 + position['sl_level'])
            if price <= sl:
                should_exit = True
                exit_reason = 'SL hit'
                exit_fraction = 1.0  # Ï†ÑÏï° Ï≤≠ÏÇ∞

            # 3. Trailing Stop
            if config['EXIT']['trailing_stop']['enabled']:
                trailing_sl = position['peak_price'] * (
                    1 - config['EXIT']['trailing_stop']['peak_drop_pct']
                )
                if price <= trailing_sl:
                    should_exit = True
                    exit_reason = 'Trailing SL'
                    exit_fraction = 1.0

            # Ï≤≠ÏÇ∞ Ïã§Ìñâ
            if should_exit:
                engine.sell(timestamp, price, fraction=exit_fraction)

                # Ï†ÑÏï° Ï≤≠ÏÇ∞ Ïãú Ìè¨ÏßÄÏÖò Ï¥àÍ∏∞Ìôî
                if exit_fraction == 1.0 or engine.btc_amount == 0:
                    position = None

    # ÏµúÏ¢Ö ÌÜµÍ≥Ñ
    stats = engine.get_statistics()

    return {
        'year': year,
        'version': config['version'],
        'initial_capital': config['BACKTEST']['initial_capital'],
        'final_capital': engine.capital,
        'final_btc': engine.btc_amount,
        'total_return_pct': stats['total_return_pct'],
        'sharpe_ratio': stats['sharpe_ratio'],
        'max_drawdown': stats['max_drawdown'],
        'total_trades': len(engine.trades),
        'win_rate': stats['win_rate'],
        'profit_factor': stats['profit_factor'],
        'trades': [
            {
                'entry_time': t.entry_time,
                'entry_price': float(t.entry_price),
                'exit_time': t.exit_time,
                'exit_price': float(t.exit_price),
                'quantity': float(t.quantity),
                'profit_loss': float(t.profit_loss),
                'profit_loss_pct': float(t.profit_loss_pct),
                'reason': t.reason
            }
            for t in engine.trades
        ]
    }


def save_results(results: Dict, output_path: Path):
    """Í≤∞Í≥º Ï†ÄÏû•"""
    # ÌëúÏ§Ä ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò
    standard_format = {
        'version': results['version'],
        'timestamp': datetime.now().isoformat(),
        'results': {
            results['year']: results
        }
    }

    # Í∏∞Ï°¥ Í≤∞Í≥º Î°úÎìú (ÏûàÏúºÎ©¥)
    if output_path.exists():
        with open(output_path) as f:
            existing = json.load(f)
        existing['results'][results['year']] = results
        standard_format = existing

    # Ï†ÄÏû•
    with open(output_path, 'w', encoding='utf-8') as f:
        json.dump(standard_format, f, indent=2, ensure_ascii=False)

    print(f"‚úÖ Saved: {output_path}")


if __name__ == '__main__':
    import argparse

    parser = argparse.ArgumentParser()
    parser.add_argument('--year', default='2024', help='Backtest year')
    args = parser.parse_args()

    # Ïã§Ìñâ
    print(f"üöÄ Running v35 backtest for {args.year}...")
    results = run_backtest(args.year)

    # Í≤∞Í≥º Ï∂úÎ†•
    print(f"\nüìä Results ({args.year}):")
    print(f"   Total Return: {results['total_return_pct']:.2f}%")
    print(f"   Sharpe Ratio: {results['sharpe_ratio']:.2f}")
    print(f"   Max Drawdown: {results['max_drawdown']:.2f}%")
    print(f"   Total Trades: {results['total_trades']}")
    print(f"   Win Rate: {results['win_rate']:.1f}%")
    print(f"   Profit Factor: {results['profit_factor']:.2f}")

    # Ï†ÄÏû•
    output_path = Path(__file__).parent / 'backtest_results.json'
    save_results(results, output_path)
```

---

## ÌëúÏ§Ä Î∞±ÌÖåÏä§Ìä∏ ÌòïÏãù

### backtest_results.json Ïä§ÌÇ§Îßà

```json
{
  "version": "v35",
  "timestamp": "2025-10-21T13:32:00+09:00",
  "engine": "StandardCompoundEngineV2",
  "config": {
    "initial_capital": 10000000,
    "fee_rate": 0.0005,
    "slippage": 0.0002
  },
  "results": {
    "2020": {
      "year": "2020",
      "version": "v35",
      "initial_capital": 10000000,
      "final_capital": 12500000,
      "final_btc": 0.0,
      "total_return_pct": 25.0,
      "sharpe_ratio": 2.24,
      "max_drawdown": -2.33,
      "total_trades": 8,
      "win_rate": 50.0,
      "profit_factor": 2.5,
      "trades": [
        {
          "entry_time": "2020-03-15 09:00:00",
          "entry_price": 5000000,
          "exit_time": "2020-03-20 15:00:00",
          "exit_price": 5250000,
          "quantity": 1.0,
          "profit_loss": 250000,
          "profit_loss_pct": 5.0,
          "reason": "TP1 reached"
        }
      ]
    },
    "2021": { ... },
    "2022": { ... },
    "2023": { ... },
    "2024": { ... },
    "2025": { ... }
  },
  "summary": {
    "total_years": 6,
    "avg_annual_return": 18.5,
    "avg_sharpe": 2.1,
    "avg_max_drawdown": -3.2,
    "total_trades": 48,
    "overall_win_rate": 47.5
  }
}
```

### Trade Í∞ùÏ≤¥ ÌïÑÏàò ÌïÑÎìú

```python
@dataclass
class Trade:
    """ÌëúÏ§Ä Trade Í∞ùÏ≤¥"""
    entry_time: str          # "2020-03-15 09:00:00"
    entry_price: float       # 5000000.0
    quantity: float          # 1.0 (BTC ÏàòÎüâ)
    side: str               # "buy"
    exit_time: str          # "2020-03-20 15:00:00"
    exit_price: float       # 5250000.0
    profit_loss: float      # 250000.0
    profit_loss_pct: float  # 5.0
    reason: str             # "TP1 reached"

    # ÏÑ†ÌÉù ÌïÑÎìú
    fee_paid: Optional[float] = None
    slippage_cost: Optional[float] = None
    market_state: Optional[str] = None
```

---

## Ïû¨Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ

### Phase 1: Ï¶âÏãú Ïû¨Íµ¨Ï∂ï (1Ï£ºÏùº)

1. **v35_optimized** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
   - ÌòÑÏû¨ ÏµúÍ≥† Ï†ÑÎûµ
   - StandardCompoundEngineV2Î°ú Ïû¨Î∞±ÌÖåÏä§Ìä∏
   - 2020-2025 Ï†Ñ Ïó∞ÎèÑ Í≤ÄÏ¶ù
   - Î™©Ìëú: Out-of-Sample 15%+ ÌôïÏù∏

2. **v34_supreme** ‚≠ê‚≠ê‚≠ê‚≠ê
   - v35Ïùò Í∏∞Î∞ò
   - Ïû¨Í≤ÄÏ¶ù ÌïÑÏöî
   - Î™©Ìëú: v35ÏôÄ ÎπÑÍµê Î∂ÑÏÑù

3. **v31_scalping_with_classifier** ‚≠ê‚≠ê‚≠ê‚≠ê
   - Í≤ÄÏ¶ùÎêú Îã®ÌÉÄ Ï†ÑÎûµ
   - Minute60 Ïä§Ï∫òÌïë
   - Î™©Ìëú: 2025ÎÖÑ ÏÑ±Í≥º ÌôïÏù∏

### Phase 2: Î∞±ÌÖåÏä§Ìä∏ Ïû¨Ïã§Ìñâ (2Ï£ºÏùº)

4. **v41_scalping_voting** ‚≠ê‚≠ê‚≠ê
   - Phase 0 ÏôÑÎ£å (Î∏åÎ£®Ìä∏Ìè¨Ïä§ Î∂ÑÏÑù)
   - Î∞±ÌÖåÏä§Ìä∏Îßå Ïû¨Ïã§Ìñâ
   - Î™©Ìëú: Day S-Tier +20%+ Ïû¨ÌòÑ

5. **v30_perfect_longterm** ‚≠ê‚≠ê
   - Buy&Hold ÌïôÏäµ Í∞ÄÏπò
   - Ï∞∏Í≥†Ïö© Ïû¨Í≤ÄÏ¶ù

### Phase 3: Ï†ÑÏ≤¥ Ï†ÑÎûµ ÌëúÏ§ÄÌôî (1Í∞úÏõî)

6. **v01~v29** ‚≠ê
   - Î™®Îì† Î†àÍ±∞Ïãú Ï†ÑÎûµ
   - ÌëúÏ§Ä ÌòïÏãù ÌÜµÏùº
   - StandardCompoundEngineV2 Ï†ÅÏö©
   - Î™©Ìëú: ÏôÑÏ†ÑÌïú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Íµ¨Ï∂ï

### Phase 4: ÏÉà Ï†ÑÎûµ Í∞úÎ∞ú (ÏßÄÏÜç)

7. **v46_ensemble** (ÏòàÏ†ï)
   - v35 + v31 + v41 ÌÜµÌï©
   - Multi-Timeframe
   - Î™©Ìëú: 30%+ Ïó∞Í∞Ñ ÏàòÏùµ

---

## Ïû¨Íµ¨Ï∂ï Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏

### Ï†ÑÎûµÎ≥Ñ ÏûëÏóÖ (Í∞Å Ï†ÑÎûµÎßàÎã§)

```markdown
## vXX_strategy_name Ïû¨Íµ¨Ï∂ï Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏

### Phase 1: ÌååÏùº ÌëúÏ§ÄÌôî
- [ ] 1.1. config.json ÌëúÏ§Ä ÌòïÏãù Î≥ÄÌôò
  - [ ] version, TIMEFRAME, concept ÌïÑÎìú
  - [ ] STRATEGY, ENTRY, EXIT, POSITION, RISK, BACKTEST ÏÑπÏÖò
  - [ ] Î™®Îì† ÌïòÏù¥ÌçºÌååÎùºÎØ∏ÌÑ∞ Î™ÖÏãú

- [ ] 1.2. strategy.py Ìï®Ïàò Í≤ÄÏ¶ù
  - [ ] `def vXX_strategy(df) -> Tuple[buy, sell, metadata]` ÏãúÍ∑∏ÎãàÏ≤ò
  - [ ] config.json Î°úÎìú Î°úÏßÅ
  - [ ] Î™ÖÌôïÌïú Ï£ºÏÑù Î∞è docstring
  - [ ] ÌÖåÏä§Ìä∏ ÏΩîÎìú (if __name__ == '__main__')

- [ ] 1.3. backtest.py StandardCompoundEngineV2 Ï†ÅÏö©
  - [ ] ÏóîÏßÑ import Î∞è Ï¥àÍ∏∞Ìôî
  - [ ] config.json ÏÑ§Ï†ï Î∞òÏòÅ
  - [ ] ÎèôÏ†Å ÏùµÏ†à/ÏÜêÏ†à Î°úÏßÅ (ÏûàÎäî Í≤ΩÏö∞)
  - [ ] Trailing Stop Î°úÏßÅ (ÏûàÎäî Í≤ΩÏö∞)
  - [ ] Í≤∞Í≥º Ï†ÄÏû• Ìï®Ïàò (save_results)

### Phase 2: Î∞±ÌÖåÏä§Ìä∏ Ïã§Ìñâ
- [ ] 2.1. 2020ÎÖÑ Î∞±ÌÖåÏä§Ìä∏
  - [ ] `python backtest.py --year 2020`
  - [ ] Í≤∞Í≥º ÌôïÏù∏ (backtest_results.json)
  - [ ] Î°úÍ∑∏ Í≤ÄÌÜ†

- [ ] 2.2. 2021~2024ÎÖÑ Î∞±ÌÖåÏä§Ìä∏
  - [ ] Í∞Å Ïó∞ÎèÑ Ïã§Ìñâ
  - [ ] Í≤∞Í≥º ÎàÑÏ†Å Ï†ÄÏû•

- [ ] 2.3. 2025ÎÖÑ Out-of-Sample
  - [ ] ÏµúÏ¢Ö Í≤ÄÏ¶ù
  - [ ] Ïò§Î≤ÑÌîºÌåÖ Ï≤¥ÌÅ¨

### Phase 3: Í≤ÄÏ¶ù
- [ ] 3.1. comprehensive_validator.py Ïã§Ìñâ
  - [ ] `python validation/comprehensive_validator.py --strategies vXX`
  - [ ] ÏõêÎ≥∏ vs Í≤ÄÏ¶ù ÎπÑÍµê
  - [ ] Ï∞®Ïù¥ Î∂ÑÏÑù (1% Ïù¥ÎÇ¥ Î™©Ìëú)

- [ ] 3.2. Í≤ÄÏ¶ù Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±
  - [ ] validation/comprehensive_validation_results/vXX_validation.json
  - [ ] Î™®Îì† Í±∞Îûò Í∏∞Î°ù ÌôïÏù∏
  - [ ] Asset Ïä§ÎÉÖÏÉ∑ Í≤ÄÌÜ†

### Phase 4: Î¨∏ÏÑúÌôî
- [ ] 4.1. README.md ÏûëÏÑ±
  - [ ] Ï†ÑÎûµ Í∞úÏöî
  - [ ] ÌïµÏã¨ Î°úÏßÅ ÏÑ§Î™Ö
  - [ ] ÏÑ±Í≥º ÏöîÏïΩ
  - [ ] ÏÇ¨Ïö© Î∞©Î≤ï

- [ ] 4.2. LEARNING.md ÏûëÏÑ± (ÏûàÎäî Í≤ΩÏö∞)
  - [ ] ÌïôÏäµ ÎÇ¥Ïö©
  - [ ] Ïã§Ìå® ÏõêÏù∏
  - [ ] Í∞úÏÑ† Î∞©Ìñ•

- [ ] 4.3. ÌÜµÌï© Î¨∏ÏÑú ÏóÖÎç∞Ïù¥Ìä∏
  - [ ] CLAUDE.md ÏóÖÎç∞Ïù¥Ìä∏
  - [ ] 251021-1332_COMPLETE_STRATEGY_COMPENDIUM.md ÏàòÏ†ï

### Phase 5: ÌÜµÌï© ÌÖåÏä§Ìä∏
- [ ] 5.1. Ï†ÑÏ≤¥ Ïó∞ÎèÑ ÏÑ±Í≥º ÌôïÏù∏
  - [ ] 6ÎÖÑ ÌèâÍ∑† ÏàòÏùµÎ•†
  - [ ] Sharpe Ratio
  - [ ] Max Drawdown
  - [ ] Win Rate

- [ ] 5.2. Buy&Hold ÎπÑÍµê
  - [ ] Ïó∞ÎèÑÎ≥Ñ Ï∞®Ïù¥
  - [ ] Î¶¨Ïä§ÌÅ¨ Ï°∞Ï†ï ÏàòÏùµ
  - [ ] Í≤∞Î°† ÎèÑÏ∂ú

- [ ] 5.3. Îã§Î•∏ Ï†ÑÎûµ ÎπÑÍµê
  - [ ] v35ÏôÄ ÎπÑÍµê
  - [ ] v31Í≥º ÎπÑÍµê
  - [ ] ÏàúÏúÑ Í≤∞Ï†ï

### ÏôÑÎ£å ‚úÖ
- [ ] ÏµúÏ¢Ö Í≤ÄÌÜ†
- [ ] Git commit
- [ ] Î¨∏ÏÑú ÏïÑÏπ¥Ïù¥Î∏å
```

### Ï†ÑÏ≤¥ ÌîÑÎ°úÏ†ùÌä∏ ÏûëÏóÖ

```markdown
## Ï†ÑÏ≤¥ ÌîÑÎ°úÏ†ùÌä∏ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏

### Ïù∏ÌîÑÎùº ÏàòÏ†ï
- [ ] 1. mass_backtest_runner.py Í≤ΩÎ°ú Ïò§Î•ò ÏàòÏ†ï
  - [ ] ÌòÑÏû¨ Ïò§Î•ò: `strategies/vXX/strategies/vXX/backtest_temp_YEAR.py`
  - [ ] Ïò¨Î∞îÎ•∏ Í≤ΩÎ°ú: `strategies/vXX/backtest.py`

- [ ] 2. comprehensive_validator.py Í∞úÏÑ†
  - [ ] Î™®Îì† Í≤∞Í≥º ÌååÏùº ÌòïÏãù ÏßÄÏõê
  - [ ] v43 comprehensive_results.json ÌååÏã±
  - [ ] v44 multi_year_results.json ÌååÏã±

### Î™®Îì† Ï†ÑÎûµ ÌëúÏ§ÄÌôî
- [ ] 3. v01~v45 Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ ÏôÑÎ£å
  - [ ] 50Í∞ú Ï†ÑÎûµ √ó 18Îã®Í≥Ñ = 900 tasks
  - [ ] ÏßÑÌñâÎ•† Ï∂îÏ†Å ÏãúÏä§ÌÖú Íµ¨Ï∂ï

### ÏµúÏ¢Ö ÏÑ±Í≥º ÎπÑÍµê
- [ ] 4. ÌÜµÌï© Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±
  - [ ] Ï†ÑÎûµÎ≥Ñ 6ÎÖÑ ÏÑ±Í≥º
  - [ ] Tier Î∂ÑÎ•ò (S/A/B/C)
  - [ ] ÏµúÏ¢Ö Í∂åÏû• Ï†ÑÎûµ ÏÑ†Ï†ï

### Ïã§Í±∞Îûò Î∞∞Ìè¨
- [ ] 5. Î∞∞Ìè¨ Ï†ÑÎûµ ÏÑ†Ï†ï
  - [ ] 2025 OOS 15%+ Ï†ÑÎûµ
  - [ ] Sharpe >= 2.0
  - [ ] MDD <= 5%

- [ ] 6. Ïã§Í±∞Îûò ÏãúÏä§ÌÖú Íµ¨Ï∂ï
  - [ ] Upbit API Ïó∞Îèô
  - [ ] Ïã§ÏãúÍ∞Ñ Îç∞Ïù¥ÌÑ∞ ÏàòÏßë
  - [ ] ÏûêÎèô Îß§Îß§ ÏóîÏßÑ
  - [ ] Î™®ÎãàÌÑ∞ÎßÅ ÎåÄÏãúÎ≥¥Îìú
```

---

## ÌïµÏã¨ ÏΩîÎìú Ïä§ÎãàÌé´

### StandardCompoundEngineV2 ÏÇ¨Ïö©Î≤ï

```python
from validation.standard_compound_engine_v2 import StandardCompoundEngineV2

# ÏóîÏßÑ Ï¥àÍ∏∞Ìôî
engine = StandardCompoundEngineV2(
    initial_capital=10_000_000,  # Ï¥àÍ∏∞ ÏûêÎ≥∏
    fee_rate=0.0005,             # 0.05% Í±∞Îûò ÏàòÏàòÎ£å
    slippage=0.0002              # 0.02% Ïä¨Î¶¨ÌîºÏßÄ
)

# Îß§Ïàò (50% Ìè¨ÏßÄÏÖò)
success = engine.buy(
    timestamp='2024-01-01 09:00:00',
    price=70_000_000,
    fraction=0.5  # 50% Îß§Ïàò
)

if success:
    print(f"Bought {engine.btc_amount} BTC")
    print(f"Remaining capital: {engine.capital:,.0f} KRW")

# Îß§ÎèÑ (Ï†ÑÏï°)
success = engine.sell(
    timestamp='2024-01-05 15:00:00',
    price=75_000_000,
    fraction=1.0  # 100% Îß§ÎèÑ
)

if success:
    last_trade = engine.trades[-1]
    print(f"Profit: {last_trade.profit_loss:,.0f} KRW ({last_trade.profit_loss_pct:.2f}%)")

# ÌÜµÍ≥Ñ
stats = engine.get_statistics()
print(f"Total Return: {stats['total_return_pct']:.2f}%")
print(f"Sharpe Ratio: {stats['sharpe_ratio']:.2f}")
print(f"Max Drawdown: {stats['max_drawdown']:.2f}%")
print(f"Win Rate: {stats['win_rate']:.1f}%")
print(f"Profit Factor: {stats['profit_factor']:.2f}")

# Ïó∞ÎèÑÎ≥Ñ Ï¥àÍ∏∞Ìôî
engine.reset()  # 2021ÎÖÑ ÏãúÏûë
```

### comprehensive_validator ÏÇ¨Ïö©Î≤ï

```python
from validation.comprehensive_validator import ComprehensiveValidator

# Í≤ÄÏ¶ùÍ∏∞ Ï¥àÍ∏∞Ìôî
validator = ComprehensiveValidator(initial_capital=10_000_000)

# Îã®Ïùº Ï†ÑÎûµ Í≤ÄÏ¶ù
from pathlib import Path
strategy_path = Path('strategies/v35_optimized')
results = validator.validate_strategy(strategy_path)

# Í≤∞Í≥º ÌôïÏù∏
for year, comparison in results['comparison'].items():
    print(f"{year}: Original {comparison['original_return_pct']:.2f}% ‚Üí "
          f"Validated {comparison['validated_return_pct']:.2f}% "
          f"(Œî {comparison['difference_pct']:.2f}%)")

# Ïó¨Îü¨ Ï†ÑÎûµ Í≤ÄÏ¶ù
strategies = ['v35_optimized', 'v34_supreme', 'v31_scalping_with_classifier']
for strat in strategies:
    path = Path(f'strategies/{strat}')
    results = validator.validate_strategy(path)
    # Í≤∞Í≥º Ï†ÄÏû•
    validator.save_validation_results(results, Path(f'validation/results/{strat}.json'))
```

### ÎèôÏ†Å ÏùµÏ†à/ÏÜêÏ†à Î°úÏßÅ

```python
def apply_dynamic_exit(position: Dict, current_price: float,
                       config: Dict, market_state: str) -> Tuple[bool, str, float]:
    """
    ÎèôÏ†Å ÏùµÏ†à/ÏÜêÏ†à Î°úÏßÅ

    Returns:
        should_exit: Ï≤≠ÏÇ∞ Ïó¨Î∂Ä
        exit_reason: Ï≤≠ÏÇ∞ ÏÇ¨Ïú†
        exit_fraction: Ï≤≠ÏÇ∞ ÎπÑÏú®
    """
    # TP Î†àÎ≤® (ÏãúÏû• ÏÉÅÌÉúÎ≥Ñ)
    tp_config = config['EXIT']['dynamic_tp'].get(market_state.lower().split('_')[0], {})
    tp1 = position['entry_price'] * (1 + tp_config.get('tp1', 0.05))
    tp2 = position['entry_price'] * (1 + tp_config.get('tp2', 0.10))
    tp3 = position['entry_price'] * (1 + tp_config.get('tp3', 0.15))

    # SL Î†àÎ≤®
    sl_config = config['EXIT']['dynamic_sl'].get(market_state.lower().split('_')[0], -0.02)
    sl = position['entry_price'] * (1 + sl_config)

    # TP3 ÎèÑÎã¨ (30% Ï≤≠ÏÇ∞)
    if current_price >= tp3:
        return True, 'TP3 reached', config['EXIT']['split_exit']['tp3_fraction']

    # TP2 ÎèÑÎã¨ (30% Ï≤≠ÏÇ∞)
    elif current_price >= tp2:
        return True, 'TP2 reached', config['EXIT']['split_exit']['tp2_fraction']

    # TP1 ÎèÑÎã¨ (40% Ï≤≠ÏÇ∞)
    elif current_price >= tp1:
        return True, 'TP1 reached', config['EXIT']['split_exit']['tp1_fraction']

    # SL ÎèÑÎã¨ (Ï†ÑÏï° Ï≤≠ÏÇ∞)
    elif current_price <= sl:
        return True, 'SL hit', 1.0

    # Trailing Stop
    if config['EXIT']['trailing_stop']['enabled']:
        trailing_sl = position['peak_price'] * (
            1 - config['EXIT']['trailing_stop']['peak_drop_pct']
        )
        if current_price <= trailing_sl:
            return True, 'Trailing SL', 1.0

    return False, None, 0.0


# ÏÇ¨Ïö© ÏòàÏãú
position = {
    'entry_price': 70_000_000,
    'peak_price': 75_000_000  # ÏóÖÎç∞Ïù¥Ìä∏ ÌïÑÏöî
}

current_price = 73_500_000
should_exit, reason, fraction = apply_dynamic_exit(
    position, current_price, config, 'BULL_STRONG'
)

if should_exit:
    engine.sell(timestamp, current_price, fraction=fraction)
    print(f"Exit: {reason}, Fraction: {fraction*100}%")
```

### ÏãúÏû• Î∂ÑÎ•ò + Ï†ÑÎûµ ÏÑ†ÌÉù

```python
def classify_and_select_strategy(df: pd.DataFrame, config: Dict) -> Tuple[pd.Series, pd.Series]:
    """
    ÏãúÏû• Î∂ÑÎ•ò Î∞è Ï†ÑÎûµ ÏÑ†ÌÉù

    Returns:
        market_states: Í∞Å ÏãúÏ†êÏùò ÏãúÏû• ÏÉÅÌÉú
        selected_strategies: Í∞Å ÏãúÏ†êÏùò ÏÑ†ÌÉùÎêú Ï†ÑÎûµ
    """
    # 7-Level ÏãúÏû• Î∂ÑÎ•ò
    market_states = pd.Series('SIDEWAYS_FLAT', index=df.index)

    classification = config['STRATEGY']['market_classification']

    # BULL_STRONG
    mask = (
        (df['mfi'] >= classification['bull_strong']['mfi']) &
        (df['macd'] - df['macd_signal'] >= classification['bull_strong']['macd_signal_diff'])
    )
    market_states[mask] = 'BULL_STRONG'

    # BULL_MODERATE
    mask = (
        (df['mfi'] >= classification['bull_moderate']['mfi']) &
        (df['macd'] - df['macd_signal'] >= classification['bull_moderate']['macd_signal_diff']) &
        (market_states == 'SIDEWAYS_FLAT')  # Ï§ëÎ≥µ Î∞©ÏßÄ
    )
    market_states[mask] = 'BULL_MODERATE'

    # SIDEWAYS_UP
    mask = (
        (df['mfi'] >= classification['sideways_up']['mfi']) &
        (df['mfi'] < classification['bull_moderate']['mfi']) &
        (df['macd'] - df['macd_signal'] >= classification['sideways_up']['macd_signal_diff'])
    )
    market_states[mask] = 'SIDEWAYS_UP'

    # ... (SIDEWAYS_DOWN, BEAR_MODERATE, BEAR_STRONG)

    # Ï†ÑÎûµ Îß§Ìïë
    strategy_map = {
        'BULL_STRONG': 'momentum_trading',
        'BULL_MODERATE': 'breakout_trading',
        'SIDEWAYS_UP': 'rsi_bollinger_bands',
        'SIDEWAYS_FLAT': 'rsi_bollinger_bands',
        'SIDEWAYS_DOWN': 'rsi_bollinger_bands',
        'BEAR_MODERATE': 'exit_only',
        'BEAR_STRONG': 'exit_only'
    }

    selected_strategies = market_states.map(strategy_map)

    return market_states, selected_strategies


# ÏÇ¨Ïö© ÏòàÏãú
market_states, strategies = classify_and_select_strategy(df, config)

print("Market Distribution:")
print(market_states.value_counts())

print("\nStrategy Distribution:")
print(strategies.value_counts())
```

---

## Ï∞∏Í≥† Î¨∏ÏÑú Î™©Î°ù

### Í≤ÄÏ¶ù Î¶¨Ìè¨Ìä∏

1. **[251021-1316_V37_V45_COMPREHENSIVE_VALIDATION_REPORT.md](251021-1316_V37_V45_COMPREHENSIVE_VALIDATION_REPORT.md)**
   - v37~v45 Ï¢ÖÌï© Í≤ÄÏ¶ù
   - ÏõêÎ≥∏ vs Í≤ÄÏ¶ù ÎπÑÍµê
   - Î≥µÎ¶¨ Î≤ÑÍ∑∏ Î∞úÍ≤¨

2. **[251021-0652_VERIFICATION_REPORT_FINAL.md](251021-0652_VERIFICATION_REPORT_FINAL.md)**
   - Ï¥àÍ∏∞ Í≤ÄÏ¶ù Í≤∞Í≥º

3. **[251020-1952_STRATEGY_VALIDATION_REPORT.md](251020-1952_STRATEGY_VALIDATION_REPORT.md)**
   - Ï†ÑÎûµÎ≥Ñ Í≤ÄÏ¶ù ÏÉÅÏÑ∏

### Phase Î¶¨Ìè¨Ìä∏

4. **[PHASE5_6_FINAL_REPORT.md](PHASE5_6_FINAL_REPORT.md)**
   - v35, v36 Í∞úÎ∞ú Í≥ºÏ†ï
   - ÎèôÏ†Å ÏùµÏ†à/ÏÜêÏ†à ÏãúÏä§ÌÖú
   - SIDEWAYS Ï†ÑÎûµ Í∞ïÌôî

5. **[PHASE4.2_VALIDATION_FINAL_4YEAR_REPORT.md](PHASE4.2_VALIDATION_FINAL_4YEAR_REPORT.md)**
   - v34 Í∞úÎ∞ú
   - 2020-2024 Multi-Strategy

6. **[PHASE4_COMPARISON_REPORT.md](PHASE4_COMPARISON_REPORT.md)**
   - v32~v34 ÎπÑÍµê

### Ï†ÑÎûµÎ≥Ñ Î¶¨Ìè¨Ìä∏

7. **[v34_supreme/FINAL_REPORT.md](v34_supreme/FINAL_REPORT.md)**
   - v34 ÏµúÏ¢Ö Î≥¥Í≥†ÏÑú

8. **[v31_scalping_with_classifier/FINAL_REPORT.md](v31_scalping_with_classifier/FINAL_REPORT.md)**
   - v31 Îã®ÌÉÄ Ï†ÑÎûµ
   - Day-level ÌïÑÌÑ∞

9. **[v30_perfect_longterm/LEARNING.md](v30_perfect_longterm/LEARNING.md)**
   - Buy&Hold ÌïôÏäµ
   - Ïû•Í∏∞ Ìà¨Ïûê Ïã§Ìå® ÏõêÏù∏

10. **[251020-1526_V43_SUPREME_FINAL_REPORT.md](251020-1526_V43_SUPREME_FINAL_REPORT.md)**
    - v43 Î¶¨Ìè¨Ìä∏ (Î≤ÑÍ∑∏ Î∞úÍ≤¨ Ï†Ñ)

11. **[251020-1727_V45_ULTIMATE_FINAL_REPORT.md](251020-1727_V45_ULTIMATE_FINAL_REPORT.md)**
    - v45 Î¶¨Ìè¨Ìä∏ (Î≤ÑÍ∑∏ Î∞úÍ≤¨ Ï†Ñ)
    - v43 Î©îÏª§ÎãàÏ¶ò Î∂ÑÏÑù

### ÎπÑÍµê Î¶¨Ìè¨Ìä∏

12. **[251020-1645_V43_V44_FINAL_COMPARISON.md](251020-1645_V43_V44_FINAL_COMPARISON.md)**
    - v43 vs v44 ÎπÑÍµê

13. **[251020-1542_V41_V43_PRODUCTION_READINESS_REPORT.md](251020-1542_V41_V43_PRODUCTION_READINESS_REPORT.md)**
    - v41 vs v43 Î∞∞Ìè¨ Ï§ÄÎπÑ

14. **[FINAL_COMPARISON.md](FINAL_COMPARISON.md)**
    - Ï†ÑÏ≤¥ Ï†ÑÎûµ ÎπÑÍµê

15. **[V13-V18_FINAL_REPORT.md](V13-V18_FINAL_REPORT.md)**
    - VWAP/Voting Ïã§Ìóò

### Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞

16. **[_raw_analysis/README.md](_raw_analysis/README.md)**
    - Phase 0 ÏõêÏãú Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù
    - 100+ ÏßÄÌëú ÏòàÏ∏°Î†•

17. **[PERFECT_SIGNALS.md](../PERFECT_SIGNALS.md)**
    - ÏôÑÎ≤ΩÌïú Ï†ïÎãµ ÏãúÍ∑∏ÎÑê
    - 45,254Í∞ú ÏãúÍ∑∏ÎÑê

18. **[v41_scalping_voting/analysis/](v41_scalping_voting/analysis/)**
    - Î∏åÎ£®Ìä∏Ìè¨Ïä§ Î∂ÑÏÑù
    - Tier Î∂ÑÎ•ò
    - ÏµúÏ†ÅÌôî Í≤∞Í≥º

### ÌîÑÎ°úÏ†ùÌä∏ Î¨∏ÏÑú

19. **[CLAUDE.md](../CLAUDE.md)**
    - ÌÜµÌï© Í∞ÄÏù¥Îìú
    - ÏµúÏã† Í∂åÏû• Ï†ÑÎûµ
    - ÌïµÏã¨ ÌïôÏäµ ÏÇ¨Ìï≠

20. **Ïù¥ Î¨∏ÏÑú (251021-1332_COMPLETE_STRATEGY_COMPENDIUM.md)**
    - ÏôÑÏ†ÑÌïú Ï†ÑÎûµ Ï¢ÖÌï©
    - Ïû¨Íµ¨Ï∂ï ÎßàÏä§ÌÑ∞ Î¨∏ÏÑú

---

## Í≤∞Î°†

### ÌòÑÏû¨ ÏÉÅÌÉú

**Í≤ÄÏ¶ù ÏôÑÎ£å**: 3Í∞ú (v38, v39, v40)
**Í≤ÄÏ¶ù ÌïÑÏöî**: 39Í∞ú (v01~v37, v41)
**Í≤ÄÏ¶ù Î∂àÍ∞Ä**: 8Í∞ú (v42~v45, Î≥µÎ¶¨ Î≤ÑÍ∑∏)

**ÏµúÍ≥† Ï†ÑÎûµ**: v35_optimized (2025 OOS +14.20%, Sharpe 2.24)

### Îã§Ïùå Îã®Í≥Ñ

1. **v35 Ïû¨Í≤ÄÏ¶ù** (ÏµúÏö∞ÏÑ†)
   - StandardCompoundEngineV2Î°ú Ïû¨Í≥ÑÏÇ∞
   - 2020-2025 Ï†Ñ Ïó∞ÎèÑ
   - Î™©Ìëú: 15%+ ÌôïÏù∏

2. **v41 Î∞±ÌÖåÏä§Ìä∏ Ïû¨Ïã§Ìñâ**
   - Phase 0 ÏôÑÎ£å
   - Day S-Tier Ïû¨ÌòÑ
   - Î™©Ìëú: +20%+

3. **Î™®Îì† Ï†ÑÎûµ ÌëúÏ§ÄÌôî**
   - 50Í∞ú Ï†ÑÎûµ
   - ÌëúÏ§Ä ÌòïÏãù ÌÜµÏùº
   - ÏôÑÏ†ÑÌïú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Íµ¨Ï∂ï

### ÏµúÏ¢Ö Î™©Ìëú

**Ïã§Í±∞Îûò Î∞∞Ìè¨**:
- Ï†ÑÎûµ: v35 ÎòêÎäî v35+v31 ÏïôÏÉÅÎ∏î
- Î™©Ìëú ÏàòÏùµ: Ïó∞Í∞Ñ 15~30%
- Î¶¨Ïä§ÌÅ¨: Sharpe >= 2.0, MDD <= 5%

---

**Î¨∏ÏÑú Ï¢ÖÎ£å**
**Îã§Ïùå Î¨∏ÏÑú**: Í∞úÎ≥Ñ Ï†ÑÎûµ Ïû¨Íµ¨Ï∂ï Ïãú Î≥∏ Î¨∏ÏÑú Ï∞∏Ï°∞
