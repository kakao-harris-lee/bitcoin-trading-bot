{
  "strategy_name": "v32_ensemble_dynamic",
  "version": "v32",
  "description": "Ensemble strategy combining v30 (long-term) and v31 (scalping) with dynamic switching",

  "primary_timeframe": "day",
  "scalping_timeframe": "minute60",

  "market_classification": {
    "method": "day_mfi_macd",
    "bull_mfi_min": 50,
    "bull_macd_positive": true,
    "bear_mfi_max": 40,
    "bear_macd_negative": true
  },

  "strategy_selection": {
    "bull_market": "v30_longterm",
    "bear_market": "hold_cash",
    "sideways_market": "v31_scalping"
  },

  "v30_longterm_settings": {
    "entry": {
      "mfi_min": 45,
      "macd_golden_cross": true,
      "adx_min": 20,
      "volume_ratio_min": 0.8
    },
    "exit": {
      "macd_dead_cross": true,
      "trailing_stop_pct": 0.15,
      "max_hold_days": 90,
      "take_profit_pct": 0.50
    },
    "position_sizing": {
      "method": "kelly_criterion",
      "initial_fraction": 0.95,
      "kelly_multiplier": 0.5,
      "max_position": 0.95
    }
  },

  "v31_scalping_settings": {
    "timeframe": "minute60",
    "entry": {
      "momentum_5h_min": 0.7,
      "consecutive_up_min": 3,
      "volume_ratio_min": 1.3,
      "rsi_max": 70
    },
    "exit": {
      "take_profit_pct": 0.012,
      "stop_loss_pct": 0.007,
      "trailing_stop_trigger": 0.010,
      "trailing_stop_distance": 0.005,
      "momentum_reverse_threshold": -0.01,
      "max_hold_hours": 50
    },
    "position_sizing": {
      "fixed_fraction": 0.5
    }
  },

  "risk_management": {
    "max_total_position": 0.95,
    "max_drawdown_pct": 0.20,
    "force_exit_on_drawdown": true,
    "max_consecutive_losses": 3,
    "reduce_position_after_loss": 0.5
  },

  "backtest_settings": {
    "initial_capital": 10000000,
    "fee_rate": 0.0005,
    "slippage": 0.0002,
    "start_date": "2024-01-01",
    "end_date": "2024-12-31"
  },

  "target_metrics": {
    "total_return_target": 50,
    "sharpe_ratio_target": 2.0,
    "max_drawdown_target": 15,
    "min_win_rate": 50
  },

  "indicators": {
    "rsi_period": 14,
    "macd_fast": 12,
    "macd_slow": 26,
    "macd_signal": 9,
    "adx_period": 14,
    "volume_sma_period": 20,
    "mfi_period": 14
  }
}
