{
  "strategy_name": "ensemble",
  "version": "v38",
  "timeframe": "day",
  "description": "v35 (SIDEWAYS) + v37 (BULL) 앙상블 - 시장 상태별 최적 전략 자동 선택",

  "meta_classifier": {
    "ma20_slope_bull_strong": 0.007,
    "ma20_slope_bull_moderate": 0.002,
    "ma20_slope_bear_moderate": -0.002,
    "ma20_slope_bear_strong": -0.007,
    "mfi_bull_strong": 45,
    "mfi_bull_moderate": 40,
    "mfi_bear_moderate": 38,
    "mfi_bear_strong": 35,
    "adx_strong_trend": 18,
    "adx_moderate_trend": 8,
    "volatility_high": 0.03,
    "volatility_low": 0.015,
    "_note": "2단계 완화: MA20 slope -50%, MFI -13%, ADX -31%"
  },

  "v37_strategies": {
    "trend_following": {
      "trend_adx_threshold": 12,
      "trend_position_size": 0.8,
      "adx_threshold": 12,
      "stop_loss": -0.08,
      "trailing_stop": -0.07,
      "trailing_trigger": 0.24,
      "max_hold_days": 61,
      "_note": "ADX 16->12 대폭 완화"
    },
    "swing_trading": {
      "rsi_oversold": 45,
      "swing_position_size": 0.6,
      "take_profit_1": 0.085,
      "take_profit_2": 0.148,
      "stop_loss": -0.034,
      "max_hold_days": 26,
      "_note": "RSI 33->45 완화"
    },
    "defensive": {
      "defensive_rsi_oversold": 25,
      "rsi_oversold": 25,
      "position_size": 0.3,
      "bear_strong_size": 0.15,
      "take_profit_1": 0.04,
      "take_profit_2": 0.06,
      "stop_loss": -0.05,
      "tp_bear_strong": 0.03,
      "max_hold_days": 20,
      "_note": "RSI 17->25, position 0.2->0.3 완화"
    }
  },

  "v35_strategies": {
    "sideways_strategies": {
      "use_rsi_bb": true,
      "use_stoch": true,
      "use_volume_breakout": true,
      "rsi_bb_oversold": 30,
      "rsi_bb_overbought": 70,
      "stoch_oversold": 20,
      "stoch_overbought": 80,
      "volume_breakout_mult": 2.0
    },
    "exit_conditions": {
      "tp_sideways_1": 0.02,
      "tp_sideways_2": 0.04,
      "tp_sideways_3": 0.06,
      "stop_loss": -0.015,
      "exit_fraction_1": 0.4,
      "exit_fraction_2": 0.3,
      "exit_fraction_3": 0.3
    },
    "position_sizing": {
      "position_size": 0.5
    }
  },

  "backtesting": {
    "initial_capital": 10000000,
    "fee_rate": 0.0005,
    "slippage": 0.0002,
    "train_period": "2020-01-01 to 2024-12-31",
    "test_period": "2025-01-01 to 2025-10-17"
  },

  "target_performance": {
    "2024_bull": 0.85,
    "2025_sideways": 0.14,
    "annual_avg": 0.45,
    "sharpe_ratio": 1.5,
    "max_drawdown": 0.15,
    "win_rate": 0.55
  }
}
