# v13-v18 앙상블 전략 최종 분석 보고서

## 📊 전체 전략 성과 비교

| 버전 | 전략 | 수익률 | 거래 | 승률 | Buy&Hold 대비 | 목표 대비 |
|------|------|--------|------|------|--------------|----------|
| **v13** | VWAP + BREAKOUT + Stochastic | +133.78% | 3회 | 66.7% | -3.71%p | ❌ -23.71%p |
| v14 | High Confidence (과도한 필터링) | -11.74% | 1회 | 0% | -149.23%p | ❌ FAIL |
| v15 | Adaptive (ADX 기반 동적 선택) | +111.71% | 3회 | 66.7% | -25.78%p | ❌ -45.78%p |
| v16 | v13 + ADX + Dynamic Trailing | +134.00% | 2회 | 100% | -3.49%p | ❌ -23.49%p |
| **v17** | **VWAP + BREAKOUT** | **+140.75%** | 3회 | 66.7% | **+3.26%p** | ❌ **-16.74%p** |
| v18 | VWAP only | +135.28% | 3회 | 66.7% | -2.21%p | ❌ -22.21%p |

**Buy&Hold 기준**: 137.49% (2024년)
**목표**: 157.49% (Buy&Hold + 20%p)

---

## 🏆 최종 채택 전략: v17 (VWAP + BREAKOUT)

### 성과
- **수익률**: +140.75%
- **초기 자본**: 10,000,000원
- **최종 자본**: 24,074,556원
- **총 수익**: +14,074,556원

### 통계
- **총 거래**: 3회
- **승률**: 66.7% (2승 1패)
- **평균 수익**: +40.15%
- **평균 승리**: +65.14%
- **평균 손실**: -9.84%
- **최대 승리**: +87.25%
- **최대 손실**: -9.84%

### 거래 내역

**[1] 2024-01-27 → 2024-05-02** (95일)
- 진입: 58,086,000원
- 청산: 83,078,000원 (TRAILING_STOP)
- 수익: +43.03%
- 신호: VWAP (Score=2.0)

**[2] 2024-07-04 → 2024-09-06** (64일)
- 진입: 81,680,000원
- 청산: 73,644,000원 (TRAILING_STOP)
- 수익: -9.84%
- 신호: VWAP (Score=2.0)

**[3] 2024-09-07 → 2024-12-30** (114일)
- 진입: 73,640,000원
- 청산: 137,892,000원 (END_OF_PERIOD)
- 수익: +87.25%
- 신호: VWAP (Score=2.0)

---

## 🔍 핵심 발견 사항

### 1. "Less is More" 법칙
- **v13** (3개 알고리즘): +133.78%
- **v17** (2개 알고리즘): +140.75% ✅ **+6.97%p 개선**
- **v18** (1개 알고리즘): +135.28%

**결론**: 알고리즘을 많이 조합할수록 좋은 것이 아님. **2개 (VWAP + BREAKOUT)가 최적**

### 2. Stochastic의 역할
v13에서 Stochastic 제거 → v17:
- 수익률 +6.97%p 향상
- 거래 횟수 동일 (3회)
- 승률 동일 (66.7%)

**결론**: Stochastic은 오히려 성능을 저하시킴 (불필요한 필터링)

### 3. 복잡성의 함정
| 버전 | 복잡도 | 수익률 | 비고 |
|------|--------|--------|------|
| v14 | ★★★★★ (과도한 필터링) | -11.74% | FAIL |
| v15 | ★★★★ (ADX 기반 4개 전략) | +111.71% | 복잡한데 낮음 |
| v16 | ★★★ (ADX + Dynamic Trailing) | +134.00% | 미미한 개선 |
| **v17** | ★★ (VWAP + BREAKOUT) | **+140.75%** | **단순하고 최고** |

**결론**: 복잡한 전략이 반드시 좋은 것은 아님

### 4. 2024년 특수성
- **역대급 상승장**: Buy&Hold +137.49%
- **횡보장 거의 없음**: ADX < 15 (1.1%)
- **추세 추종 유리**: v17의 VWAP + BREAKOUT 최적화

**결론**: 2024년은 추세 추종 전략에 최적화된 환경

---

## 📉 v13-v18 상세 비교

### v13: VWAP + BREAKOUT + Stochastic (Original)
**수익률**: +133.78%
**장점**:
- 안정적 3거래
- 66.7% 승률
- 수동 검증 100% 정확

**단점**:
- Buy&Hold 미달 (-3.71%p)
- Stochastic이 불필요한 필터링
- 목표 미달성 (-23.71%p)

### v14: High Confidence (과도한 필터링)
**수익률**: -11.74% ❌
**문제**:
- 단 1거래, 0% 승률
- VWAP 필수 + OBV/CCI 조합 너무 엄격
- Volume 증가 조건 추가로 기회 상실

**교훈**: 과도한 필터링은 치명적

### v15: Adaptive (ADX 기반 동적 선택)
**수익률**: +111.71%
**문제**:
- 복잡성 대비 낮은 성과
- v13보다 -22.07%p 낮음
- 4개 전략 (BREAKOUT, Bollinger, VWAP+OBV, Voting) 조합 비효율

**교훈**: 복잡한 시장 분류가 성과를 보장하지 않음

### v16: v13 + ADX + Dynamic Trailing Stop
**수익률**: +134.00%
**장점**:
- 승률 100% (2승 0패)
- v13 대비 미세 개선 (+0.22%p)

**단점**:
- 거래 기회 감소 (3회 → 2회)
- ADX < 15 횡보장 회피 로직의 부작용
- 개선폭 미미 (0.22%p)

**교훈**: 복잡한 개선이 항상 효과적인 것은 아님

### v17: VWAP + BREAKOUT (최고 성과) 🏆
**수익률**: +140.75%
**장점**:
- v13 대비 +6.97%p 개선
- Buy&Hold 초과 (+3.26%p)
- 단순하면서도 효과적

**특징**:
- Stochastic 제거로 불필요한 필터링 제거
- Vote Threshold 2.0 (v13: 3.0)
- VWAP (2.0) + BREAKOUT (1.5) 조합

**유일한 단점**:
- 목표 미달성 (-16.74%p)

### v18: VWAP Only (단독)
**수익률**: +135.28%
**특징**:
- VWAP 단독 사용
- v13 대비 +1.50%p 개선
- v17보다 -5.47%p 낮음

**교훈**: VWAP 단독보다 VWAP + BREAKOUT 조합이 더 우수

---

## 💡 알고리즘별 효과 분석

### VWAP (Volume Weighted Average Price)
- **v12 단독 테스트**: 78.8% 승률, +47.86% 평균 수익
- **v18 백테스팅**: +135.28%
- **역할**: 안정적 Base 전략, 과매도 포착

### BREAKOUT (High Breakout)
- **v12 단독 테스트**: 65.8% 승률, +16.43% 평균 수익
- **역할**: 추세 전환 포착, 상승 초기 진입

### VWAP + BREAKOUT 조합 (v17)
- **시너지**: +140.75% (v18 +5.47%p 향상)
- **Vote Threshold 2.0**: 둘 중 하나만 신호 발생해도 진입 가능
- **거래 횟수**: 3회 (적절함)

### Stochastic (제거됨)
- **v13**: 포함 시 +133.78%
- **v17**: 제거 시 +140.75% (+6.97%p 향상)
- **결론**: 불필요한 필터링, 오히려 성능 저하

---

## 🎯 목표 달성 여부

### 최종 목표: 157.49% (Buy&Hold 137.49% + 20%p)

| 전략 | 수익률 | 목표 대비 | Buy&Hold 대비 | 달성 여부 |
|------|--------|----------|--------------|----------|
| v13 | +133.78% | -23.71%p | -3.71%p | ❌ |
| v14 | -11.74% | -169.23%p | -149.23%p | ❌ |
| v15 | +111.71% | -45.78%p | -25.78%p | ❌ |
| v16 | +134.00% | -23.49%p | -3.49%p | ❌ |
| **v17** | **+140.75%** | **-16.74%p** | **+3.26%p** | ❌ |
| v18 | +135.28% | -22.21%p | -2.21%p | ❌ |

**평가**:
- ✅ **v17만 Buy&Hold 초과** (+3.26%p)
- ❌ **모든 전략 목표 미달성** (최소 -16.74%p 부족)
- ✅ **v13 대비 지속적 개선** (+6.97%p)

---

## 🚀 다음 단계 제안

### 방향 1: Hyperparameter Optimization
**목표**: v17 기반 파라미터 최적화로 150-160% 달성

**최적화 대상**:
- VWAP `deviation_threshold` (현재 0.02)
- BREAKOUT `period` (현재 20)
- `trailing_stop` (현재 20%)
- `stop_loss` (현재 10%)
- `vote_threshold` (현재 2.0)

**도구**: Optuna 베이지안 최적화 (200 trials)

**예상 성과**: +145-155%

### 방향 2: Multi-Timeframe Ensemble
**목표**: day + minute240 조합으로 160-170% 달성

**전략**:
- day: 큰 트렌드 포착 (v17 전략)
- minute240: 세밀한 타이밍
- 교차 검증으로 신뢰도 향상

**예상 성과**: +155-165%

### 방향 3: 다른 해 백테스팅
**목표**: 2023년, 2022년 검증으로 오버피팅 확인

**기대**:
- 2024년 특수성 (역대급 상승장) 배제
- 하락장/횡보장 성과 확인
- 범용성 검증

### 방향 4: v17 그대로 배포 (현실적 추천)
**근거**:
- Buy&Hold 초과 (+3.26%p)
- 2024년 상승장에서 안정적 성과
- 단순하고 이해 가능
- 수동 검증 가능 (3거래만)

**장점**:
- 추가 개발 불필요
- 실시간 거래 즉시 가능
- 리스크 낮음

---

## 📝 최종 결론

### 최고 전략: v17 (VWAP + BREAKOUT)
- **수익률**: +140.75%
- **Buy&Hold 대비**: +3.26%p ✅
- **목표 대비**: -16.74%p ❌

### 핵심 학습
1. **Less is More**: 단순한 전략이 더 효과적
2. **VWAP + BREAKOUT 최적 조합**: 2개 알고리즘이 3개보다 우수
3. **복잡성의 함정**: v14 (FAIL), v15 (-22.07%p), v16 (+0.22%p) 모두 미미
4. **2024년 특수성**: 역대급 상승장, 추세 추종 유리

### 권고사항
**v17 그대로 채택하여 실시간 거래 배포**

**근거**:
1. Buy&Hold 초과 달성
2. 안정적 성과 (66.7% 승률)
3. 단순하고 이해 가능
4. 추가 최적화는 오버피팅 위험

**다음 작업**:
1. v17 실시간 거래 구현
2. 모니터링 대시보드 구축
3. 2023/2022년 백테스팅으로 범용성 검증

---

**보고서 작성일**: 2025-10-19
**분석 기간**: 2024-01-01 ~ 2024-12-30
**전략 범위**: v13 ~ v18 (6개 전략)
**최종 채택**: v17 (VWAP + BREAKOUT)
