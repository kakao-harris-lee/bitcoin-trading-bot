# v-a-01: Perfect Signal Reproduction - 최종 리포트

**생성일**: 2025-10-22 02:23
**전략명**: v-a-01 (Simple RSI + MFI)
**목표**: 완벽한 정답 시그널 재현 시도

---

## 📊 Executive Summary

**재현율 결과**: C-Tier (6.03%)

- ✅ **성공**: 기본 프레임워크 구축 완료
- ⚠️ **실패**: 낮은 재현율 (목표 30%+ 미달성)
- 🔄 **개선 필요**: 지표 조합 및 임계값 최적화

---

## 🎯 프로젝트 개요

### 목표
완벽한 정답 시그널 45,254개를 최대한 재현하여 높은 수익률 달성

### 접근 방식
- Phase 0: 완벽한 시그널 분석 (PERFECT_SIGNALS.md 참조)
- Phase 1 (v-a-01): 단순 RSI + MFI 조합으로 기본 재현 시도
- Phase 2-15: 점진적 최적화 (v-a-02 ~ v-a-15)

---

## 📈 v-a-01 구현 상세

### 전략 로직

**Entry 조건**:
```python
- RSI <= 50        # 과매수 회피
- MFI <= 50        # 자금 흐름 약세
- Volume Ratio >= 1.2  # 거래량 증가
```

**Exit 조건**:
```python
- 고정 보유 기간: 30일 (완벽한 시그널 평균 보유 기간)
```

**타임프레임**: Day (2024년)

### 완벽한 시그널 패턴 분석

**완벽한 시그널 266개 특성**:
```
RSI 평균:          57.55 (중립~과매수)
MFI 평균:          53.96 (중립~과매수)
Volume Ratio 평균: 1.05  (평균 수준)
평균 수익률:       15.37%
평균 보유 기간:    19.7일
```

**발견**: 완벽한 시그널은 과매도(RSI<30)가 아닌 **중립~과매수** 구간에서 발생!

---

## 📊 백테스팅 결과

### 시그널 생성
```
전략 시그널:  27개 생성
완벽한 시그널: 266개
시그널 비율:  10.15%
```

### 백테스팅 성과 (2024년, 30일 보유)
```
총 거래:      27회
총 수익률:    11.37%
평균 수익률:  0.42%
승률:         55.56%
Sharpe Ratio: 0.05
```

### 재현율 분석

**종합 재현율: 6.03% (C-Tier)**

| 지표 | 값 | 가중치 | 기여도 |
|------|-----|--------|--------|
| 시그널 재현율 | 14.66% | 40% | 5.86% |
| 수익 재현율 | 0.28% | 60% | 0.17% |

**Tier 분류**:
- S-Tier: 70%+ ❌
- A-Tier: 50-70% ❌
- B-Tier: 30-50% ❌
- **C-Tier: <30%** ✅ (현재)

---

## 🔍 원인 분석

### 1. 잘못된 지표 임계값

**문제**:
- v-a-01 조건: RSI <= 50, MFI <= 50
- 완벽한 시그널 평균: RSI 57.55, MFI 53.96

**결과**: 완벽한 시그널의 **80%를 놓침** (RSI>50, MFI>50 구간 제외)

### 2. 과도한 Volume 필터

**문제**:
- v-a-01 조건: Volume Ratio >= 1.2
- 완벽한 시그널 평균: 1.05

**결과**: 평균 수준 거래량 시그널 제외

### 3. 고정 보유 기간의 한계

**문제**:
- v-a-01: 무조건 30일 보유
- 완벽한 시그널: 평균 19.7일 (최적 타이밍 청산)

**결과**: 수익 기회 놓침 또는 과도한 보유

---

## 💡 핵심 인사이트

### 발견 1: "과매도 = 매수 기회"는 틀렸다
```
기존 통념:  RSI < 30 → 매수 신호
실제 데이터: RSI 57.55 평균 (중립~과매수)
```

완벽한 시그널은 **모멘텀이 살아있는** 구간에서 발생

### 발견 2: MFI의 중요성
```
완벽한 시그널 MFI: 53.96 평균
→ 자금 유입이 지속되는 구간
```

MFI > 50은 기관/대형 자금의 매집 신호

### 발견 3: Volume의 역설
```
기존 통념:  Volume Spike → 큰 움직임
실제 데이터: Volume Ratio 1.05 (평균 수준)
```

과도한 거래량은 오히려 단기 변동성 증가

---

## 📁 생성된 아티팩트

### 1. 유틸리티
```
utils/perfect_signal_loader.py      # 완벽한 시그널 로더
utils/reproduction_calculator.py    # 재현율 계산기
```

### 2. 시그널 & 분석
```
signals/day_2024_signals.json       # 생성된 27개 시그널
analysis/day_2024_analysis.json     # 패턴 분석 결과
```

### 3. 백테스팅 결과
```
results/day_2024_backtest.json      # 백테스팅 + 재현율 결과
```

### 4. 실행 스크립트
```
generate_signals.py  # 시그널 생성
backtest.py          # 백테스팅 + 재현율 계산
```

---

## 🚀 v-a-02 개선 방향

### 즉시 개선 (v-a-02)

**1. 지표 임계값 수정**
```python
# 현재 (v-a-01)
RSI <= 50
MFI <= 50

# 개선 (v-a-02)
RSI >= 50 AND RSI <= 65  # 중립~과매수
MFI >= 50 AND MFI <= 60  # 자금 유입 구간
```

**2. Volume 필터 완화**
```python
# 현재
Volume Ratio >= 1.2

# 개선
Volume Ratio >= 0.9 AND <= 1.3  # 평균 수준
```

**3. 추가 지표 도입**
```python
MACD > Signal           # 상승 모멘텀
BB Position > 0.5       # 상단 50% 이상
ADX > 20                # 추세 강도
```

**예상 재현율**: 25-35% (B-Tier)

### 중기 개선 (v-a-03)

**Multi-Indicator Scoring**
```python
score = (
    rsi_score * 0.25 +
    mfi_score * 0.30 +  # MFI 가중치 증가
    macd_score * 0.20 +
    volume_score * 0.15 +
    bb_score * 0.10
)

entry_threshold = 70점 이상
```

**예상 재현율**: 40-50% (A-Tier)

### 장기 개선 (v-a-04+)

- v-a-04: Day 타임프레임 최적화
- v-a-05: Minute60 최적화
- v-a-06: Minute240 최적화
- v-a-07: 최적 타임프레임 선택
- v-a-08+: Multi-TF 조합, ML 패턴, Optuna 최적화

---

## 📊 비교 분석

### v-a-01 vs 완벽한 시그널

| 지표 | v-a-01 | 완벽한 시그널 | 차이 |
|------|--------|---------------|------|
| 시그널 수 | 27개 | 266개 | -89.85% |
| 평균 수익률 | 0.42% | 15.37% | -97.27% |
| 승률 | 55.56% | 100%* | -44.44% |
| 재현율 | 6.03% | 100% | -93.97% |

*완벽한 시그널은 최적 보유 기간 사용 (look-ahead bias)

### v-a-01 vs Buy&Hold 2024

| 지표 | v-a-01 | Buy&Hold | 차이 |
|------|--------|----------|------|
| 수익률 | 11.37% | 136.67% | -91.68% |
| 최대 거래 | 27회 | 1회 | +2,600% |
| 리스크 | 중간 | 높음 | - |

---

## ✅ 달성 사항

1. ✅ **Perfect Signal Loader 구현** (18개 CSV 파일 로드)
2. ✅ **Reproduction Calculator 구현** (멀티 타임프레임 지원)
3. ✅ **시그널 생성 파이프라인 구축**
4. ✅ **백테스팅 + 재현율 자동 계산**
5. ✅ **완벽한 시그널 패턴 인사이트 도출**

---

## ❌ 미달성 사항

1. ❌ **목표 재현율 30%+ 달성** (실제 6.03%)
2. ❌ **Buy&Hold 대비 우수 성과** (11.37% vs 136.67%)
3. ❌ **높은 승률 달성** (55.56%)

---

## 📝 교훈 (Lessons Learned)

### 1. 데이터 기반 접근의 중요성
- ❌ 통념에 의존 (RSI<30 = 매수)
- ✅ 실제 데이터 분석 (RSI 57.55 평균)

### 2. 재현율 지표의 유용성
- 단순 수익률만 보면 11.37%로 "성공"처럼 보임
- 재현율 6.03%로 **실제로는 실패**임을 명확히 인식

### 3. 점진적 개선의 필요성
- v-a-01은 baseline 설정용
- v-a-02부터 데이터 기반 최적화 시작

---

## 🎯 다음 단계

### 즉시 실행 (v-a-02)
1. RSI/MFI 임계값 수정 (50 → 50-65)
2. Volume 필터 완화 (1.2 → 0.9-1.3)
3. MACD, BB Position 추가
4. 목표: B-Tier (30%+) 재현율

### 중기 계획 (v-a-03~07)
5. Multi-Indicator Scoring (v-a-03)
6. 타임프레임별 최적화 (v-a-04~07)
7. 목표: A-Tier (50%+) 재현율

### 장기 계획 (v-a-08~15)
8. Multi-Timeframe 조합
9. ML 패턴 인식
10. Optuna 자동 최적화
11. 목표: S-Tier (70%+) 재현율

---

## 📚 참고 문서

- [PERFECT_SIGNALS.md](../../PERFECT_SIGNALS.md) - 완벽한 시그널 45,254개 분석
- [CLAUDE.md](../../CLAUDE.md) - 프로젝트 전체 가이드
- [README.md](README.md) - v-a-01 프로젝트 설명

---

## 🏁 결론

v-a-01은 **기본 프레임워크 구축**에는 성공했으나, **재현율 6.03%**로 실제 성과는 실패했습니다.

**핵심 원인**:
- 통념에 기반한 지표 임계값 (RSI<=50)
- 실제 데이터 패턴 무시 (RSI 평균 57.55)

**해결 방안**:
- v-a-02에서 데이터 기반 임계값 적용
- 점진적 최적화로 재현율 30%+ 목표

**긍정적 측면**:
- 재현율 지표로 명확한 실패 인식
- 완벽한 시그널 패턴 인사이트 도출
- 확장 가능한 프레임워크 구축

**v-a 시리즈 전망**:
- v-a-02: 25-35% (B-Tier)
- v-a-03: 40-50% (A-Tier)
- v-a-08+: 70%+ (S-Tier) 목표

---

**작성일**: 2025-10-22 02:23
**작성자**: Claude (v-a Series Development)
**상태**: v-a-01 완료, v-a-02 대기
