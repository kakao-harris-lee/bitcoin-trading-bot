# v-a-11 종합 분석 보고서 (Phase 1)

**작성일**: 2025-10-22 16:28
**목표**: v-a-11 (+20.42% @ 2025) 초월 전략 개발 기반 마련
**분석 대상**: 2020-2025 (6년) 전체 성과

---

## 📊 Executive Summary

**v-a-11 현재 성과**:
- 2025 Out-of-Sample: **+20.42%** (Buy&Hold +20.15%, 초과 +0.27%p)
- 6년 평균: **+66.10%/년** (매우 우수)
- 승률: **39.95%** (낮음, 개선 필요)
- 거래 빈도: 39.8회/년 (적절)

**핵심 문제**:
1. ❌ **승률 너무 낮음**: 39.95% (목표 50%+)
2. ❌ **2025 손실 거래**: 16회 (53.3%) > 승리 14회 (46.7%)
3. ❌ **Stop Loss 과다**: 37.5%가 SL로 청산
4. ❌ **3월 대손실**: -24.92% (4거래)

**핵심 강점**:
1. ✅ **Trend Following 기여**: 거래 22.6%로 전체 기여도 69.6%
2. ✅ **장기 안정성**: 6년 평균 +66%
3. ✅ **v37 시장 분류**: 7단계 분류 효과적
4. ✅ **Optuna 최적화**: 500 trials로 검증

---

## 📈 연도별 성과 분석

### 전체 6년 성과

| 연도 | 수익률 | Buy&Hold | 초과 | 거래 | 승률 | 평균 익절 | 평균 손절 |
|------|--------|----------|------|------|------|-----------|----------|
| 2020 | +266.89% | +284.23% | -17.34%p | 46회 | 54.3% | +12.34% | -3.83% |
| 2021 | **-0.76%** | +77.11% | -77.88%p | 27회 | **22.2%** | +12.86% | -4.44% |
| 2022 | -45.68% | -63.62% | +17.94%p | 40회 | 25.0% | +4.07% | -4.60% |
| 2023 | +90.89% | +168.14% | -77.25%p | 50회 | 48.0% | +7.66% | -2.61% |
| 2024 | +64.85% | +134.35% | -69.51%p | 46회 | 43.5% | +7.03% | -2.84% |
| **2025** | **+20.42%** | **+20.15%** | **+0.27%p** | **30회** | **46.7%** | **+6.51%** | **-3.31%** |

**평균**: +66.10%/년, 39.8회/년, 39.95% 승률

### 핵심 발견

**최고의 해**:
- **2020**: +266.89%, 승률 54.3% ← 유일하게 50% 이상
- **2023**: +90.89%, 승률 48.0%

**최악의 해**:
- **2021**: -0.76%, 승률 **22.2%** ← 치명적 실패
- **2022**: -45.68%, 승률 25.0%

**2025 문제**:
- 승률 46.7% (손실 16회 > 승리 14회)
- Buy&Hold 거의 동일 (+0.27%p 초과만)
- **v-a-11 초월 목표 +30%에 9.58%p 부족**

---

## 🎯 전략별 기여도 분석

### 종합 기여도 (2020-2025 전체)

| 전략 | 거래 횟수 | 비중 | 승률 | 평균 익절 | 평균 손절 | 총 기여 |
|------|----------|------|------|-----------|----------|---------|
| **Trend Following** | 54회 | 22.6% | **48.15%** | **+16.42%** | -6.00% | **+258.82%p** ⭐ |
| **Sideways** | 176회 | 73.6% | 40.34% | +5.53% | -2.67% | +112.63%p |
| **Defensive** | 9회 | 3.8% | 22.22% | +11.25% | -8.32% | **-35.71%p** ❌ |

### 핵심 인사이트

**1. Trend Following이 핵심**:
- 거래 **22.6%**만으로 전체 기여도 **69.6%** (258.82 / 371.45)
- 평균 익절 **+16.42%** (가장 높음)
- 승률 48.15% (상대적으로 높음)
- **결론**: Trend Following을 더 강화해야 함

**2. Sideways 효율성 낮음**:
- 거래 **73.6%**인데 기여도 **30.3%**만
- 평균 익절 +5.53% (Trend의 1/3)
- 승률 40.34% (낮음)
- **결론**: Sideways 대폭 개선 필요 (Grid Trading, Mean Reversion)

**3. Defensive 폐기 고려**:
- 총 기여 **-35.71%p** (마이너스!)
- 승률 22.22% (최악)
- 평균 손절 -8.32% (과도함)
- **결론**: Defensive 전략 제거 또는 완전 재설계

---

## 🔍 2025년 상세 분석

### 기본 통계

```
수익률: +20.42%
Buy&Hold: +20.15%
초과 수익: +0.27%p ← 거의 없음!
총 거래: 30회
승률: 46.67% (14승 16패)

총 익절: +91.19%
총 손절: -53.02%
순 수익: +38.17% (자본 10M → 13.82M)
```

### 월별 분포

| 월 | 거래 | 수익 | 상태 |
|----|------|------|------|
| 2월 | 6회 | **+29.68%** | ⭐ 최고 |
| 3월 | 4회 | **-24.92%** | ❌ 최악 |
| 4월 | 2회 | +8.04% | ✅ |
| 5월 | 1회 | +3.99% | ✅ |
| 6월 | 3회 | +13.23% | ✅ |
| 7월 | 3회 | -0.91% | ❌ |
| 8월 | 5회 | -4.96% | ❌ |
| 9월 | 3회 | **+15.44%** | ⭐ |
| 10월 | 3회 | -1.42% | ❌ |

**패턴**:
- **2-3월 변동성**: +29.68% → -24.92% (54.60%p 스윙!)
- **7-8월 연속 손실**: -5.87% 누적
- **승리 월**: 2, 4, 5, 6, 9 (5개월)
- **손실 월**: 3, 7, 8, 10 (4개월)

### 전략별 2025 성과

| 전략 | 거래 | 승률 | 기여 |
|------|------|------|------|
| Sideways | 20회 | 40.0% | +12.02%p |
| Trend Following | 8회 | 62.5% | **+17.32%p** ⭐ |
| Defensive | 2회 | 50.0% | +8.83%p |

**결론**:
- Trend Following 승률 62.5%, 거래 26.7%로 기여도 45.4%
- Sideways 승률 40.0%, 거래 66.7%로 기여도 31.5%
- 2025년에도 Trend Following이 핵심

### 청산 사유 분석

| 사유 | 횟수 | 비율 |
|------|------|------|
| SIDEWAYS_TRAILING_ATR | 12회 | 40.0% |
| TREND_DEAD_CROSS | 8회 | 26.7% |
| SIDEWAYS_STOP_LOSS | 5회 | 16.7% |
| SIDEWAYS_TP2 | 2회 | 6.7% |
| DEFENSIVE_STOP_LOSS | 1회 | 3.3% |
| DEFENSIVE_TP2 | 1회 | 3.3% |
| SIDEWAYS_TP1 | 1회 | 3.3% |

**문제**:
- **SIDEWAYS_STOP_LOSS**: 5회 (16.7%) ← 과도한 SL
- **TP2 도달**: 단 3회 (10%) ← 큰 수익 못 잡음

---

## 💔 손실 거래 패턴 분석

### 손실 상세 (16회, -53.02%)

**전략별**:
- Sideways: 12회, 평균 -2.45%, 총 -29.45%
- Trend Following: 3회, 평균 -5.48%, 총 -16.43%
- Defensive: 1회, 평균 -7.14%, 총 -7.14%

**청산 사유별**:
- SIDEWAYS_TRAILING_ATR: 7회, 평균 -1.03%
- **SIDEWAYS_STOP_LOSS**: 5회, 평균 **-4.44%** ← 치명적
- TREND_DEAD_CROSS: 3회, 평균 -5.48%
- DEFENSIVE_STOP_LOSS: 1회, 평균 -7.14%

**월별 손실**:
- **3월**: 4회, -24.92% ← 최악의 월
- 2월: 3회, -15.21%
- 8월: 4회, -5.20%

### 최대 손실 Top 5

1. **2025-03-05** (4일): Trend Following, **-10.34%**, TREND_DEAD_CROSS
2. **2025-03-02** (1일): Sideways, **-8.77%**, SIDEWAYS_STOP_LOSS
3. **2025-02-24** (2일): Defensive, **-7.14%**, DEFENSIVE_STOP_LOSS
4. **2025-02-25** (1일): Sideways, **-5.41%**, SIDEWAYS_STOP_LOSS
5. **2025-03-15** (22일): Trend Following, **-5.29%**, TREND_DEAD_CROSS

**패턴**:
- **SIDEWAYS_STOP_LOSS**: -8.77%, -5.41% (과도한 SL)
- **3월 집중**: Top 5 중 3개가 3월
- **Defensive 실패**: -7.14% (전략 자체 문제)

---

## 🎯 개선 방향 (Phase 2 입력)

### 1. Stop Loss 완화 ⭐⭐⭐
**문제**: SL 발생 37.5% (6/16), 평균 손실 -4.44%
**개선**:
- SIDEWAYS SL: **-1.08% → -2.0%** 완화
- ATR 기반 Dynamic SL: **Entry - (ATR × 3.0)**
- Trailing Stop ATR: **Peak - (ATR × 3.5)**
**예상 효과**: 승률 +5-8%p, 손실 -10-15%p

### 2. SIDEWAYS 전략 강화 ⭐⭐⭐
**문제**: 거래 73.6%, 기여도 30.3%만, 승률 40.34%
**개선**:
1. **Grid Trading 도입** (연구 기반):
   - Support/Resistance 자동 감지 (20일 High/Low)
   - 5-7 Grid 레벨 설정
   - 레벨별 10-20% 자본 배치
   - **예상 효과**: SIDEWAYS 수익 +30-50%

2. **Mean Reversion 강화**:
   - RSI < 20 (현재 < 24) 극단 조건
   - Bollinger Bands 3σ 진입
   - Volume > 2.5x (현재 > 1.68x)
   - **예상 효과**: 승률 +5-10%p

3. **Entry 조건 강화**:
   - ADX < 15 (추세 없음 확인)
   - Stochastic < 15 (극단 과매도)
   - Volume Spike 필수
   - **예상 효과**: 시그널 -20%, 승률 +10%p

### 3. Kelly Criterion 포지션 사이징 ⭐⭐
**문제**: 고정 40% 포지션, 자본 효율 낮음
**개선**:
- Kelly % = W - (1-W)/R 계산
- 승률 46.7%, Win/Loss 1.97 기반
- Kelly % = 0.467 - (0.533 / 1.97) = **0.197** (19.7%)
- **Half Kelly** 적용: **9.85%** × 신뢰도 점수
- 고신뢰도 시그널 (80-100점): 40-60% 투입
- 저신뢰도 시그널 (40-60점): 10-20% 투입
**예상 효과**: 복리 효과로 +5-10%p

### 4. ATR 기반 Dynamic Exit ⭐⭐
**문제**: 고정 TP/SL, 변동성 미반영
**개선**:
- **Dynamic TP**: Entry + (ATR × 6.0) (2:1 reward-risk)
- **Dynamic SL**: Entry - (ATR × 3.0)
- **Trailing Stop**: Peak - (ATR × 3.5)
- 변동성 높을 때: TP 8-12%, SL -3-5%
- 변동성 낮을 때: TP 3-5%, SL -1.5-2%
**예상 효과**: MDD -5%p, Sharpe +0.3-0.5

### 5. Trend Following 강화 ⭐
**문제**: 거래 22.6%만, 기여도 69.6%
**개선**:
- ADX > 25 → ADX > 20 (더 많은 기회)
- MACD 골든크로스 + RSI < 65
- Volume > 1.5x (현재 조건 없음)
- 포지션 크기 60-80% (현재 80% 고정)
**예상 효과**: 거래 +30%, 기여도 유지

### 6. Defensive 폐기 또는 재설계 ⭐
**문제**: 총 기여 -35.71%p
**개선 옵션**:
1. **완전 폐기** (권장)
2. **극단 RSI < 15** (현재 < 17)
3. **Position 10%** (현재 20%)
4. **BEAR_STRONG만** (BEAR_MODERATE 제외)
**예상 효과**: 손실 -35.71%p 제거

---

## 📈 예상 개선 효과

### 총 예상 개선량

| 개선 항목 | 예상 효과 | 근거 |
|----------|----------|------|
| 1. Stop Loss 완화 | +5-8%p | v-a-14 Phase 1: +15.48%p |
| 2. SIDEWAYS Grid Trading | +8-12%p | 연구: SIDEWAYS 31% 시장 |
| 3. Kelly Criterion | +5-10%p | 복리 효과 |
| 4. ATR Dynamic Exit | +3-5%p | 변동성 적응 |
| 5. Trend Following 강화 | +2-4%p | 거래 +30% |
| 6. Defensive 폐기 | 손실 제거 | -35.71%p → 0%p |

**총 예상 개선**: **+23-39%p**
**v-a-11 현재**: +20.42%
**v-a-15 목표**: **+43-59%** ✅ (목표 +30% 대폭 초과!)

---

## 🚀 v-a-15 개발 방향

### 핵심 아키텍처

```
v-a-15 Ultimate Adaptive Strategy
├── Entry Layer
│   ├── Trend Following (강화) ← 기여도 69.6%
│   ├── SIDEWAYS Grid Trading (NEW) ← 연구 기반
│   ├── SIDEWAYS Mean Reversion (강화) ← 3σ, RSI<20
│   └── Defensive (폐기 or 재설계)
├── Position Sizing Layer (NEW)
│   ├── Kelly Criterion 계산
│   ├── 신뢰도 점수 시스템 (0-100점)
│   └── 동적 포지션 크기 (10-80%)
├── Exit Layer (완전 재설계)
│   ├── ATR 기반 Dynamic TP/SL
│   ├── Trailing Stop (ATR × 3.5)
│   ├── 시장 상태 변화 즉시 청산
│   └── 변동성 적응형
└── Optimization Engine
    ├── Optuna 1000 trials (v-a-11은 500)
    ├── Walk-Forward 검증
    └── 재최적화 루프 (목표 달성까지)
```

### 핵심 신규 기능

**1. SIDEWAYS Grid Trading** (최우선):
```python
# Support/Resistance 감지
support = df['low'].rolling(20).min()
resistance = df['high'].rolling(20).max()

# Grid 레벨 생성 (5-7단계)
grid_levels = np.linspace(support, resistance, 7)

# 각 레벨에서 진입/청산
for level in grid_levels:
    if price <= level * 0.98:  # 레벨 하회
        buy(position=0.15)  # 15% 배치
    elif price >= level * 1.02:  # 레벨 상회
        sell()  # 매도
```

**2. Kelly Criterion Position Sizing**:
```python
# Kelly % 계산
W = win_rate  # 0.467
R = avg_win / abs(avg_loss)  # 6.51 / 3.31 = 1.97
kelly_pct = W - (1 - W) / R  # 0.197

# 신뢰도 점수
confidence = 0
if adx > 25: confidence += 20
if volume > 2.0: confidence += 15
if rsi < 20: confidence += 25
# ... 최대 100점

# 동적 포지션
position = kelly_pct * (confidence / 100) * capital
position = np.clip(position, 0.1, 0.8)  # 10-80% 제한
```

**3. ATR Dynamic Exit**:
```python
# 진입 시 ATR 기록
entry_atr = df['atr'].iloc[entry_idx]

# 동적 TP/SL
dynamic_tp = entry_price + (entry_atr * 6.0)  # 2:1 reward-risk
dynamic_sl = entry_price - (entry_atr * 3.0)

# Trailing Stop
if profit > 0.10:  # 10% 이상 수익
    trailing_sl = peak_price - (entry_atr * 3.5)
```

---

## ✅ Phase 1 완료 체크리스트

- [x] v-a-11 전체 연도 성과 분석 (2020-2025)
- [x] 전략별 기여도 분해 (Trend 69.6%, Sideways 30.3%, Defensive -9.6%)
- [x] 승률, 거래빈도 상세 분석 (39.95%, 39.8회/년)
- [x] 시장 상태별 성과 분석 (데이터 부족으로 제한적)
- [x] 2025년 성과가 낮은 이유 분석 (승률 46.7%, SL 37.5%, 3월 -24.92%)
- [x] 손실 거래 패턴 분석 (SIDEWAYS_STOP_LOSS -4.44% 평균)
- [x] SIDEWAYS 전략 강점 식별 (거래 많지만 효율 낮음, 개선 여지 큼)

---

## 🎯 Phase 2 다음 단계

### 즉시 실행
1. ✅ Grid Trading 연구 (웹 검색 완료)
2. ✅ Kelly Criterion 연구 (웹 검색 완료)
3. ✅ ATR Trailing Stop 연구 (웹 검색 완료)
4. ⏳ **v-a-15 아키텍처 설계 및 구현**

### 구현 순서
1. **Week 1**: SIDEWAYS Grid Trading 구현
2. **Week 1**: Kelly Criterion Position Sizing 구현
3. **Week 2**: ATR Dynamic Exit 시스템 구현
4. **Week 2**: Trend Following 강화
5. **Week 3**: Optuna 최적화 (1000 trials)
6. **Week 3**: Walk-Forward 검증
7. **Week 4**: 재최적화 및 최종 평가

---

**작성자**: Claude (v-a Series Development)
**Phase**: 1/5 완료
**다음**: Phase 2 (최신 연구 통합) + Phase 3 (v-a-15 개발)
