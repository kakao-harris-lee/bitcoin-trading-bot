# DB í™•ì¸ ê°€ì´ë“œ

## ðŸ“Š DB í™•ì¸ ë°©ë²• (4ê°€ì§€)

### â­ ë°©ë²• 1: ë¹ ë¥¸ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸ (ê°€ìž¥ ì‰¬ì›€)
```bash
cd /Users/bongbong/SynologyDrive/vendor/sandbox/251015_ë´‰ë´‡
./check_db.sh
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
============================================================
ðŸ“Š ì—…ë¹„íŠ¸ ë¹„íŠ¸ì½”ì¸ DB ë¹ ë¥¸ í™•ì¸
============================================================

ðŸ“¦ DB íŒŒì¼ í¬ê¸°: 489M

ì´ ë ˆì½”ë“œ ìˆ˜: 4,174,195ê°œ

ì‹œê°„ë‹¨ìœ„ë³„ ë°ì´í„°:
  minute1:  3,572,115ê°œ (2018-12-31 ~ 2025-10-16)
  minute3:     95,123ê°œ (2025-04-01 ~ 2025-10-16)
  ...
```

---

### âš¡ ë°©ë²• 2: ëŒ€í™”í˜• CLI (ê°€ìž¥ ìžì„¸í•¨)
```bash
cd /Users/bongbong/SynologyDrive/vendor/sandbox/251015_ë´‰ë´‡
python db_cli.py
```

**ê¸°ëŠ¥:**
1. **ì „ì²´ í†µê³„** - ëª¨ë“  ì‹œê°„ë‹¨ìœ„ ìš”ì•½
2. **íŠ¹ì • ì‹œê°„ë‹¨ìœ„ ìƒì„¸** - ê°€ê²© ì •ë³´, ìµœê·¼ ë°ì´í„° ìƒ˜í”Œ
3. **ìµœì‹  ë°ì´í„° ì¡°íšŒ** - ê° ì‹œê°„ë‹¨ìœ„ë³„ ìµœì‹  Nê°œ
4. **ë‚ ì§œë³„ ì¡°íšŒ** - íŠ¹ì • ë‚ ì§œì˜ ë°ì´í„°
5. **ë³´ê°„ í†µê³„** - ë³´ê°„ëœ ë°ì´í„° í˜„í™©
6. **DB íŒŒì¼ ì •ë³´** - íŒŒì¼ í¬ê¸°, í…Œì´ë¸” ëª©ë¡

**ì‚¬ìš© ì˜ˆì‹œ:**
```
============================================================
ðŸ“Š ì—…ë¹„íŠ¸ ë¹„íŠ¸ì½”ì¸ DB í™•ì¸ CLI
============================================================

ë©”ë‰´:
  1. ì „ì²´ í†µê³„
  2. íŠ¹ì • ì‹œê°„ë‹¨ìœ„ ìƒì„¸ ì •ë³´
  3. ìµœì‹  ë°ì´í„° ì¡°íšŒ
  4. ë‚ ì§œë³„ ë°ì´í„° ì¡°íšŒ
  5. ë³´ê°„ ë°ì´í„° í†µê³„
  6. DB íŒŒì¼ ì •ë³´
  0. ì¢…ë£Œ
------------------------------------------------------------

ì„ íƒ: 2

ì‚¬ìš© ê°€ëŠ¥í•œ ì‹œê°„ë‹¨ìœ„:
  1. minute1
  2. minute3
  ...
  11. month

ë²ˆí˜¸ ì„ íƒ (1-11): 1

============================================================
ðŸ“Š minute1 ìƒì„¸ ì •ë³´
============================================================

ðŸ“ˆ ê¸°ë³¸ í†µê³„:
  ì „ì²´ ë°ì´í„°: 3,572,115ê°œ
  ì›ë³¸ ë°ì´í„°: 3,548,800ê°œ
  ë³´ê°„ ë°ì´í„°: 23,315ê°œ
  ë³´ê°„ ë¹„ìœ¨: 0.65%

ðŸ“… ê¸°ê°„:
  ìµœê³ : 2018-12-31T20:47:00
  ìµœì‹ : 2025-10-16T12:01:00

ðŸ’° ê°€ê²© ì •ë³´:
  ìµœì €ê°€: 3,850,000ì›
  ìµœê³ ê°€: 176,000,000ì›
  í‰ê· ê°€: 45,678,000ì›

ðŸ’¾ ìµœì‹  5ê°œ ë°ì´í„°:
  ì‹œê°„                   ì‹œê°€              ê³ ê°€              ì €ê°€              ì¢…ê°€       ë³´ê°„
  ----------------------------------------------------------------------------------------------
  2025-10-16T12:01:00  169,400,000     169,450,000     169,380,000     169,420,000
  2025-10-16T12:00:00  169,380,000     169,410,000     169,350,000     169,400,000
  ...
```

---

### ðŸ ë°©ë²• 3: Python ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
```bash
cd /Users/bongbong/SynologyDrive/vendor/sandbox/251015_ë´‰ë´‡
source venv/bin/activate
python verify_data.py
```

**íŠ¹ì§•:**
- í…Œì´ë¸”ë³„ ìƒì„¸ ì •ë³´
- ìƒ˜í”Œ ë°ì´í„° í‘œì‹œ
- ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦

---

### ðŸ’» ë°©ë²• 4: SQLite ì§ì ‘ ì¡°íšŒ
```bash
cd /Users/bongbong/SynologyDrive/vendor/sandbox/251015_ë´‰ë´‡
sqlite3 upbit_bitcoin.db
```

**ìœ ìš©í•œ ì¿¼ë¦¬:**
```sql
-- í…Œì´ë¸” ëª©ë¡
.tables

-- ë°ì´í„° ê°œìˆ˜ í™•ì¸
SELECT COUNT(*) FROM bitcoin_minute1;
SELECT COUNT(*) FROM bitcoin_day;

-- ìµœì‹  ë°ì´í„°
SELECT * FROM bitcoin_day
ORDER BY timestamp DESC
LIMIT 5;

-- íŠ¹ì • ë‚ ì§œ ë°ì´í„°
SELECT * FROM bitcoin_day
WHERE timestamp LIKE '2025-10-16%';

-- ê°€ê²© ë²”ìœ„ ì¡°íšŒ
SELECT
    MIN(trade_price) as ìµœì €ê°€,
    MAX(trade_price) as ìµœê³ ê°€,
    AVG(trade_price) as í‰ê· ê°€
FROM bitcoin_day;

-- ë³´ê°„ ë°ì´í„° í™•ì¸
SELECT
    COUNT(*) as ì „ì²´,
    SUM(CASE WHEN is_interpolated = 0 THEN 1 ELSE 0 END) as ì›ë³¸,
    SUM(CASE WHEN is_interpolated = 1 THEN 1 ELSE 0 END) as ë³´ê°„
FROM bitcoin_minute1;

-- ì¢…ë£Œ
.quit
```

---

## ðŸ“‹ í˜„ìž¬ DB ìƒíƒœ ì˜ˆì‹œ

### íŒŒì¼ ì •ë³´
- **ê²½ë¡œ**: `/Users/bongbong/SynologyDrive/vendor/sandbox/251015_ë´‰ë´‡/upbit_bitcoin.db`
- **í¬ê¸°**: 489 MB
- **ì´ ë ˆì½”ë“œ**: 4,174,195ê°œ

### ì‹œê°„ë‹¨ìœ„ë³„ ë°ì´í„°
| ì‹œê°„ë‹¨ìœ„ | ë°ì´í„° ìˆ˜ | ê¸°ê°„ |
|---------|----------|------|
| minute1 | 3,572,115 | 2018-12-31 ~ 2025-10-16 |
| minute3 | 95,123 | 2025-04-01 ~ 2025-10-16 |
| minute5 | 119,680 | 2024-08-26 ~ 2025-10-16 |
| minute10 | 95,215 | 2023-12-25 ~ 2025-10-16 |
| minute15 | 95,031 | 2023-01-30 ~ 2025-10-16 |
| minute30 | 119,243 | 2018-12-28 ~ 2025-10-16 |
| minute60 | 59,689 | 2018-12-25 ~ 2025-10-16 |
| minute240 | 15,001 | 2018-12-12 ~ 2025-10-16 |
| day | 2,600 | 2018-09-04 ~ 2025-10-16 |
| week | 400 | 2018-02-19 ~ 2025-10-13 |
| month | 98 | 2017-09-01 ~ 2025-10-01 |

---

## ðŸŽ¯ ì¶”ì²œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ë¹ ë¥´ê²Œ í™•ì¸ë§Œ í•˜ê³  ì‹¶ì„ ë•Œ
```bash
./check_db.sh
```

### íŠ¹ì • ì‹œê°„ë‹¨ìœ„ë¥¼ ìžì„¸ížˆ ë³´ê³  ì‹¶ì„ ë•Œ
```bash
python db_cli.py
# ë©”ë‰´ì—ì„œ 2ë²ˆ ì„ íƒ
```

### íŠ¹ì • ë‚ ì§œ ë°ì´í„° ë¶„ì„
```bash
python db_cli.py
# ë©”ë‰´ì—ì„œ 4ë²ˆ ì„ íƒ â†’ ë‚ ì§œ ìž…ë ¥
```

### ì»¤ìŠ¤í…€ ì¿¼ë¦¬ ì‹¤í–‰
```bash
sqlite3 upbit_bitcoin.db
# SQL ì§ì ‘ ì‹¤í–‰
```

---

## ðŸ’¡ íŒ

### DB íŒŒì¼ í¬ê¸° í™•ì¸
```bash
ls -lh upbit_bitcoin.db
```

### íŠ¹ì • í…Œì´ë¸”ë§Œ ë°±ì—…
```bash
sqlite3 upbit_bitcoin.db ".dump bitcoin_day" > bitcoin_day_backup.sql
```

### CSVë¡œ ë‚´ë³´ë‚´ê¸°
```bash
sqlite3 upbit_bitcoin.db << EOF
.mode csv
.headers on
.output bitcoin_day.csv
SELECT * FROM bitcoin_day;
.quit
EOF
```
